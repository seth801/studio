(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,59141,e=>{"use strict";let t,r,i,n;var s,a,o,l,c,u=e.i(47167),h=e.i(85086);(0,h.registerVersion)("firebase","11.9.1","app");var d=h,p=e.i(33015),d=h,f=p,g=e.i(68483),m=e.i(90571),_=e.i(65233);function v(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let I=new f.ErrorFactory("auth","Firebase",v()),w=new g.Logger("@firebase/auth");function y(e,...t){w.logLevel<=g.LogLevel.ERROR&&w.error(`Auth (${h.SDK_VERSION}): ${e}`,...t)}function T(e,...t){throw R(e,...t)}function E(e,...t){return R(e,...t)}function k(e,t,r){let i=Object.assign(Object.assign({},v()),{[t]:r});return new f.ErrorFactory("auth","Firebase",i).create(t,{appName:e.name})}function b(e){return k(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function R(e,...t){if("string"!=typeof e){let r=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(r,...i)}return I.create(e,...t)}function S(e,t,...r){if(!e)throw R(t,...r)}function P(e){let t="INTERNAL ASSERTION FAILED: "+e;throw y(t),Error(t)}function C(){var e;return"undefined"!=typeof self&&(null==(e=self.location)?void 0:e.href)||""}function A(){var e;return"undefined"!=typeof self&&(null==(e=self.location)?void 0:e.protocol)||null}class O{constructor(e,t){var r;this.shortDelay=e,this.longDelay=t,r="Short delay should be less than long delay!",t>e||P(r),this.isMobile=(0,f.isMobileCordova)()||(0,f.isReactNative)()}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===A()||"https:"===A()||(0,f.isBrowserExtension)()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function N(e,t){var r,i;r=e.emulator,i="Emulator should always be set here",r||P(i);let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class D{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void P("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void P("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void P("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}let L={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},U=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M=new O(3e4,6e4);function F(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function x(e,t,r,i,n={}){return V(e,n,async()=>{let n={},s={};i&&("GET"===t?s=i:n={body:JSON.stringify(i)});let a=(0,f.querystring)(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);let l=Object.assign({method:t,headers:o},n);return(0,f.isCloudflareWorker)()||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,f.isCloudWorkstation)(e.emulatorConfig.host)&&(l.credentials="include"),D.fetch()(await H(e,e.config.apiHost,r,a),l)})}async function V(e,t,r){e._canInitEmulator=!1;let i=Object.assign(Object.assign({},L),t);try{let t=new W(e),n=await Promise.race([r(),t.promise]);t.clearNetworkTimeout();let s=await n.json();if("needConfirmation"in s)throw $(e,"account-exists-with-different-credential",s);if(n.ok&&!("errorMessage"in s))return s;{let[t,r]=(n.ok?s.errorMessage:s.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw $(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw $(e,"email-already-in-use",s);if("USER_DISABLED"===t)throw $(e,"user-disabled",s);let a=i[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(r)throw k(e,a,r);T(e,a)}}catch(t){if(t instanceof f.FirebaseError)throw t;T(e,"network-request-failed",{message:String(t)})}}async function j(e,t,r,i,n={}){let s=await x(e,t,r,i,n);return"mfaPendingCredential"in s&&T(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function H(e,t,r,i){let n=`${t}${r}?${i}`,s=e.config.emulator?N(e.config,n):`${e.config.apiScheme}://${n}`;return U.includes(r)&&(await e._persistenceManagerAvailable,"COOKIE"===e._getPersistenceType())?e._getPersistence()._getFinalTarget(s).toString():s}class W{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(E(this.auth,"network-request-failed")),M.get())})}}function $(e,t,r){let i={appName:e.name};r.email&&(i.email=r.email),r.phoneNumber&&(i.phoneNumber=r.phoneNumber);let n=E(e,t,i);return n.customData._tokenResponse=r,n}function q(e){return void 0!==e&&void 0!==e.enterprise}class B{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)switch(t.enforcementState){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function K(e,t){return x(e,"GET","/v2/recaptchaConfig",F(e,t))}async function z(e,t){return x(e,"POST","/v1/accounts:delete",t)}async function G(e,t){return x(e,"POST","/v1/accounts:lookup",t)}function J(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function X(e,t=!1){let r=(0,f.getModularInstance)(e),i=await r.getIdToken(t),n=Q(i);S(n&&n.exp&&n.auth_time&&n.iat,r.auth,"internal-error");let s="object"==typeof n.firebase?n.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:n,token:i,authTime:J(Y(n.auth_time)),issuedAtTime:J(Y(n.iat)),expirationTime:J(Y(n.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function Y(e){return 1e3*Number(e)}function Q(e){let[t,r,i]=e.split(".");if(void 0===t||void 0===r||void 0===i)return y("JWT malformed, contained fewer than 3 sections"),null;try{let e=(0,f.base64Decode)(r);if(!e)return y("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return y("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function Z(e){let t=Q(e);return S(t,"internal-error"),S(void 0!==t.exp,"internal-error"),S(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ee(e,t,r=!1){if(r)return t;try{return await t}catch(t){throw t instanceof f.FirebaseError&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class et{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!=(t=this.user.stsTokenManager.expirationTime)?t:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class er{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=J(this.lastLoginAt),this.creationTime=J(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ei(e){var t,r,i;let n=e.auth,s=await e.getIdToken(),a=await ee(e,G(n,{idToken:s}));S(null==a?void 0:a.users.length,n,"internal-error");let o=a.users[0];e._notifyReloadListener(o);let l=(null==(t=o.providerUserInfo)?void 0:t.length)?es(o.providerUserInfo):[],c=(r=e.providerData,i=l,[...r.filter(e=>!i.some(t=>t.providerId===e.providerId)),...i]),u=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null==c?void 0:c.length);Object.assign(e,{uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new er(o.createdAt,o.lastLoginAt),isAnonymous:!!u&&h})}async function en(e){let t=(0,f.getModularInstance)(e);await ei(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function es(e){return e.map(e=>{var{providerId:t}=e,r=(0,m.__rest)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function ea(e,t){let r=await V(e,{},async()=>{let r=(0,f.querystring)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:n}=e.config,s=await H(e,i,"/v1/token",`key=${n}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let o={method:"POST",headers:a,body:r};return e.emulatorConfig&&(0,f.isCloudWorkstation)(e.emulatorConfig.host)&&(o.credentials="include"),D.fetch()(s,o)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function eo(e,t){return x(e,"POST","/v2/accounts:revokeToken",F(e,t))}class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S(void 0!==e.idToken,"internal-error"),S(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):Z(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){S(0!==e.length,"internal-error");let t=Z(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(S(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:n}=await ea(e,t);this.updateTokensAndExpiration(r,i,Number(n))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:n}=t,s=new el;return r&&(S("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(S("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),n&&(S("number"==typeof n,"internal-error",{appName:e}),s.expirationTime=n),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return P("not implemented")}}function ec(e,t){S("string"==typeof e||void 0===e,"internal-error",{appName:t})}class eu{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,n=(0,m.__rest)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new et(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=n.displayName||null,this.email=n.email||null,this.emailVerified=n.emailVerified||!1,this.phoneNumber=n.phoneNumber||null,this.photoURL=n.photoURL||null,this.isAnonymous=n.isAnonymous||!1,this.tenantId=n.tenantId||null,this.providerData=n.providerData?[...n.providerData]:[],this.metadata=new er(n.createdAt||void 0,n.lastLoginAt||void 0)}async getIdToken(e){let t=await ee(this,this.stsTokenManager.getToken(this.auth,e));return S(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return X(this,e)}reload(){return en(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new eu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ei(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,h._isFirebaseServerApp)(this.auth.app))return Promise.reject(b(this.auth));let e=await this.getIdToken();return await ee(this,z(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,n,s,a,o,l,c;let u=null!=(r=t.displayName)?r:void 0,h=null!=(i=t.email)?i:void 0,d=null!=(n=t.phoneNumber)?n:void 0,p=null!=(s=t.photoURL)?s:void 0,f=null!=(a=t.tenantId)?a:void 0,g=null!=(o=t._redirectEventId)?o:void 0,m=null!=(l=t.createdAt)?l:void 0,_=null!=(c=t.lastLoginAt)?c:void 0,{uid:v,emailVerified:I,isAnonymous:w,providerData:y,stsTokenManager:T}=t;S(v&&T,e,"internal-error");let E=el.fromJSON(this.name,T);S("string"==typeof v,e,"internal-error"),ec(u,e.name),ec(h,e.name),S("boolean"==typeof I,e,"internal-error"),S("boolean"==typeof w,e,"internal-error"),ec(d,e.name),ec(p,e.name),ec(f,e.name),ec(g,e.name),ec(m,e.name),ec(_,e.name);let k=new eu({uid:v,auth:e,email:h,emailVerified:I,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:E,createdAt:m,lastLoginAt:_});return y&&Array.isArray(y)&&(k.providerData=y.map(e=>Object.assign({},e))),g&&(k._redirectEventId=g),k}static async _fromIdTokenResponse(e,t,r=!1){let i=new el;i.updateFromServerResponse(t);let n=new eu({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ei(n),n}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];S(void 0!==i.localId,"internal-error");let n=void 0!==i.providerUserInfo?es(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(null==n?void 0:n.length),a=new el;a.updateFromIdToken(r);let o=new eu({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s});return Object.assign(o,{uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:n,metadata:new er(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(null==n?void 0:n.length)}),o}}let eh=new Map;function ed(e){var t,r;t="Expected a class definition",e instanceof Function||P(t);let i=eh.get(e);return i?(r="Instance stored in cache mismatched with class",i instanceof e||P(r)):(i=new e,eh.set(e,i)),i}class ep{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}function ef(e,t,r){return`firebase:${e}:${t}:${r}`}ep.type="NONE";class eg{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:n}=this.auth;this.fullUserKey=ef(this.userKey,i.apiKey,n),this.fullPersistenceKey=ef("persistence",i.apiKey,n),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){let t=await G(this.auth,{idToken:e}).catch(()=>void 0);return t?eu._fromGetAccountInfoResponse(this.auth,t,e):null}return eu._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new eg(ed(ep),e,r);let i=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),n=i[0]||ed(ep),s=ef(r,e.config.apiKey,e.name),a=null;for(let r of t)try{let t=await r._get(s);if(t){let i;if("string"==typeof t){let r=await G(e,{idToken:t}).catch(()=>void 0);if(!r)break;i=await eu._fromGetAccountInfoResponse(e,r,t)}else i=eu._fromJSON(e,t);r!==n&&(a=i),n=r;break}}catch(e){}let o=i.filter(e=>e._shouldAllowMigration);return n._shouldAllowMigration&&o.length&&(n=o[0],a&&await n._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==n)try{await e._remove(s)}catch(e){}}))),new eg(n,e,r)}}function em(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(ew(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(e_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eT(t))return"Blackberry";if(eE(t))return"Webos";if(ev(t))return"Safari";if((t.includes("chrome/")||eI(t))&&!t.includes("edge/"))return"Chrome";if(ey(t))return"Android";let r=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==r?void 0:r.length)===2)return r[1]}return"Other"}function e_(e=(0,f.getUA)()){return/firefox\//i.test(e)}function ev(e=(0,f.getUA)()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eI(e=(0,f.getUA)()){return/crios\//i.test(e)}function ew(e=(0,f.getUA)()){return/iemobile/i.test(e)}function ey(e=(0,f.getUA)()){return/android/i.test(e)}function eT(e=(0,f.getUA)()){return/blackberry/i.test(e)}function eE(e=(0,f.getUA)()){return/webos/i.test(e)}function ek(e=(0,f.getUA)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function eb(e=(0,f.getUA)()){return ek(e)||ey(e)||eE(e)||eT(e)||/windows phone/i.test(e)||ew(e)}function eR(e,t=[]){let r;switch(e){case"Browser":r=em((0,f.getUA)());break;case"Worker":r=`${em((0,f.getUA)())}-${e}`;break;default:r=e}let i=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${h.SDK_VERSION}/${i}`}class eS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=t=>new Promise((r,i)=>{try{let i=e(t);r(i)}catch(e){i(e)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}async function eP(e,t={}){return x(e,"GET","/v2/passwordPolicy",F(e,t))}class eC{constructor(e){var t,r,i,n;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!=(t=s.minPasswordLength)?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!=(i=null==(r=e.allowedNonAlphanumericCharacters)?void 0:r.join(""))?i:"",this.forceUpgradeOnSignin=null!=(n=e.forceUpgradeOnSignin)&&n,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,n,s,a;let o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null==(t=o.meetsMinPasswordLength)||t),o.isValid&&(o.isValid=null==(r=o.meetsMaxPasswordLength)||r),o.isValid&&(o.isValid=null==(i=o.containsLowercaseLetter)||i),o.isValid&&(o.isValid=null==(n=o.containsUppercaseLetter)||n),o.isValid&&(o.isValid=null==(s=o.containsNumericCharacter)||s),o.isValid&&(o.isValid=null==(a=o.containsNonAlphanumericCharacter)||a),o}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,n){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=n))}}class eA{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eN(this),this.idTokenSubscription=new eN(this),this.beforeStateQueue=new eS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ed(t)),this._initializationPromise=this.queue(async()=>{var r,i,n;if(!this._deleted){if(this.persistenceManager=await eg.create(this,e),null==(r=this._resolvePersistenceManagerAvailable)||r.call(this),!this._deleted){if(null==(i=this._popupRedirectResolver)?void 0:i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null==(n=this.currentUser)?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)}}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await G(this,{idToken:e}),r=await eu._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,h._isFirebaseServerApp)(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,n=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let r=null==(t=this.redirectUser)?void 0:t._redirectEventId,s=null==i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);(!r||r===s)&&(null==a?void 0:a.user)&&(i=a.user,n=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(n)try{await this.beforeStateQueue.runMiddleware(i)}catch(e){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return(S(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId)?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ei(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,h._isFirebaseServerApp)(this.app))return Promise.reject(b(this));let t=e?(0,f.getModularInstance)(e):null;return t&&S(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&S(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,h._isFirebaseServerApp)(this.app)?Promise.reject(b(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,h._isFirebaseServerApp)(this.app)?Promise.reject(b(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ed(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new eC(await eP(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new f.ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await eo(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null==(e=this._currentUser)?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&ed(e)||this._popupRedirectResolver;S(t,this,"argument-error"),this.redirectPersistenceManager=await eg.create(this,[ed(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return(this._isInitialized&&await this.queue(async()=>{}),(null==(t=this._currentUser)?void 0:t._redirectEventId)===e)?this._currentUser:(null==(r=this.redirectUser)?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=null!=(t=null==(e=this.currentUser)?void 0:e.uid)?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let n="function"==typeof t?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(S(a,this,"internal-error"),a.then(()=>{s||n(this.currentUser)}),"function"==typeof t){let n=e.addObserver(t,r,i);return()=>{s=!0,n()}}{let r=e.addObserver(t);return()=>{s=!0,r()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await (null==(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if((0,h._isFirebaseServerApp)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await (null==(e=this.appCheckServiceProvider.getImmediate({optional:!0}))?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){w.logLevel<=g.LogLevel.WARN&&w.warn(`Auth (${h.SDK_VERSION}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function eO(e){return(0,f.getModularInstance)(e)}class eN{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,f.createSubscribe)(e=>this.observer=e)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let eD={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eL(e){return`__${e}${Math.floor(1e6*Math.random())}`}class eU{constructor(){this.enterprise=new eM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class eM{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}let eF="NO_RECAPTCHA";class ex{constructor(e){this.type="recaptcha-enterprise",this.auth=eO(e)}async verify(e="verify",t=!1){async function r(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,r)=>{K(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(i=>{if(void 0===i.recaptchaKey)r(Error("recaptcha Enterprise site key undefined"));else{let r=new B(i);return null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,t(r.siteKey)}}).catch(e=>{r(e)})})}function i(t,r,i){let n=window.grecaptcha;q(n)?n.enterprise.ready(()=>{n.enterprise.execute(t,{action:e}).then(e=>{r(e)}).catch(()=>{r(eF)})}):i(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eU().execute("siteKey",{action:"verify"}):new Promise((e,n)=>{r(this.auth).then(r=>{if(!t&&q(window.grecaptcha))i(r,e,n);else{var s;if("undefined"==typeof window)return void n(Error("RecaptchaVerifier is only supported in browser"));let t=eD.recaptchaEnterpriseScript;0!==t.length&&(t+=r),(s=t,eD.loadJS(s)).then(()=>{i(r,e,n)}).catch(e=>{n(e)})}}).catch(e=>{n(e)})})}}async function eV(e,t,r,i=!1,n=!1){let s,a=new ex(e);if(n)s=eF;else try{s=await a.verify(r)}catch(e){s=await a.verify(r,!0)}let o=Object.assign({},t);if("mfaSmsEnrollment"===r||"mfaSmsSignIn"===r){if("phoneEnrollmentInfo"in o){let e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){let e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ej(e,t,r,i,n){var s,a;if("EMAIL_PASSWORD_PROVIDER"===n)if(null==(s=e._getRecaptchaConfig())||!s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return i(e,t).catch(async n=>{if("auth/missing-recaptcha-token"!==n.code)return Promise.reject(n);{console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let n=await eV(e,t,r,"getOobCode"===r);return i(e,n)}});else{let n=await eV(e,t,r,"getOobCode"===r);return i(e,n)}if("PHONE_PROVIDER"!==n)return Promise.reject(n+" provider is not supported.");if(null==(a=e._getRecaptchaConfig())?void 0:a.isProviderEnabled("PHONE_PROVIDER")){let n=await eV(e,t,r);return i(e,n).catch(async n=>{var s;if((null==(s=e._getRecaptchaConfig())?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&("auth/missing-recaptcha-token"===n.code||"auth/invalid-app-credential"===n.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${r} flow.`);let n=await eV(e,t,r,!1,!0);return i(e,n)}return Promise.reject(n)})}{let n=await eV(e,t,r,!1,!0);return i(e,n)}}async function eH(e){let t=eO(e),r=new B(await K(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}));null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()&&new ex(t).verify()}function eW(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function e$(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}class eq{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return P("not implemented")}_getIdTokenResponse(e){return P("not implemented")}_linkToIdToken(e,t){return P("not implemented")}_getReauthenticationResolver(e){return P("not implemented")}}async function eB(e,t){return x(e,"POST","/v1/accounts:signUp",t)}async function eK(e,t){return j(e,"POST","/v1/accounts:signInWithPassword",F(e,t))}async function ez(e,t){return j(e,"POST","/v1/accounts:signInWithEmailLink",F(e,t))}async function eG(e,t){return j(e,"POST","/v1/accounts:signInWithEmailLink",F(e,t))}class eJ extends eq{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new eJ(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new eJ(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);else if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ej(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",eK,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return ez(e,{email:this._email,oobCode:this._password});default:T(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ej(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return eG(e,{idToken:t,email:this._email,oobCode:this._password});default:T(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function eX(e,t){return j(e,"POST","/v1/accounts:signInWithIdp",F(e,t))}class eY extends eq{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new eY(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):T("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,n=(0,m.__rest)(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new eY(r,i);return s.idToken=n.idToken||void 0,s.accessToken=n.accessToken||void 0,s.secret=n.secret,s.nonce=n.nonce,s.pendingToken=n.pendingToken||null,s}_getIdTokenResponse(e){return eX(e,this.buildRequest())}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,eX(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,eX(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,f.querystring)(t)}return e}}async function eQ(e,t){return x(e,"POST","/v1/accounts:sendVerificationCode",F(e,t))}async function eZ(e,t){return j(e,"POST","/v1/accounts:signInWithPhoneNumber",F(e,t))}async function e0(e,t){let r=await j(e,"POST","/v1/accounts:signInWithPhoneNumber",F(e,t));if(r.temporaryProof)throw $(e,"account-exists-with-different-credential",r);return r}let e1={USER_NOT_FOUND:"user-not-found"};async function e2(e,t){return j(e,"POST","/v1/accounts:signInWithPhoneNumber",F(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),e1)}class e3 extends eq{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new e3({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new e3({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return eZ(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return e0(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return e2(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:n}=e;return r||t||i||n?new e3({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:n}):null}}class e4{constructor(e){var t,r,i,n,s,a;const o=(0,f.querystringDecode)((0,f.extractQuerystring)(e)),l=null!=(t=o.apiKey)?t:null,c=null!=(r=o.oobCode)?r:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!=(i=o.mode)?i:null);S(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!=(n=o.continueUrl)?n:null,this.languageCode=null!=(s=o.lang)?s:null,this.tenantId=null!=(a=o.tenantId)?a:null}static parseLink(e){let t,r,i,n=(r=(t=(0,f.querystringDecode)((0,f.extractQuerystring)(e)).link)?(0,f.querystringDecode)((0,f.extractQuerystring)(t)).deep_link_id:null,((i=(0,f.querystringDecode)((0,f.extractQuerystring)(e)).deep_link_id)?(0,f.querystringDecode)((0,f.extractQuerystring)(i)).link:null)||i||r||t||e);try{return new e4(n)}catch(e){return null}}}class e5{constructor(){this.providerId=e5.PROVIDER_ID}static credential(e,t){return eJ._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let r=e4.parseLink(t);return S(r,"argument-error"),eJ._fromEmailAndCode(e,r.code,r.tenantId)}}e5.PROVIDER_ID="password",e5.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e5.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class e6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class e8 extends e6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class e7 extends e8{constructor(){super("facebook.com")}static credential(e){return eY._fromParams({providerId:e7.PROVIDER_ID,signInMethod:e7.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return e7.credentialFromTaggedObject(e)}static credentialFromError(e){return e7.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return e7.credential(e.oauthAccessToken)}catch(e){return null}}}e7.FACEBOOK_SIGN_IN_METHOD="facebook.com",e7.PROVIDER_ID="facebook.com";class e9 extends e8{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eY._fromParams({providerId:e9.PROVIDER_ID,signInMethod:e9.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return e9.credentialFromTaggedObject(e)}static credentialFromError(e){return e9.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return e9.credential(t,r)}catch(e){return null}}}e9.GOOGLE_SIGN_IN_METHOD="google.com",e9.PROVIDER_ID="google.com";class te extends e8{constructor(){super("github.com")}static credential(e){return eY._fromParams({providerId:te.PROVIDER_ID,signInMethod:te.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return te.credentialFromTaggedObject(e)}static credentialFromError(e){return te.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return te.credential(e.oauthAccessToken)}catch(e){return null}}}te.GITHUB_SIGN_IN_METHOD="github.com",te.PROVIDER_ID="github.com";class tt extends e8{constructor(){super("twitter.com")}static credential(e,t){return eY._fromParams({providerId:tt.PROVIDER_ID,signInMethod:tt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return tt.credentialFromTaggedObject(e)}static credentialFromError(e){return tt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return tt.credential(t,r)}catch(e){return null}}}tt.TWITTER_SIGN_IN_METHOD="twitter.com",tt.PROVIDER_ID="twitter.com";class tr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){return new tr({user:await eu._fromIdTokenResponse(e,r,i),providerId:ti(r),_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){return await e._updateTokensIfNecessary(r,!0),new tr({user:e,providerId:ti(r),_tokenResponse:r,operationType:t})}}function ti(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class tn extends f.FirebaseError{constructor(e,t,r,i){var n;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,tn.prototype),this.customData={appName:e.name,tenantId:null!=(n=e.tenantId)?n:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new tn(e,t,r,i)}}function ts(e,t,r,i){return("reauthenticate"===t?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(r=>{if("auth/multi-factor-auth-required"===r.code)throw tn._fromErrorAndOperation(e,r,t,i);throw r})}async function ta(e,t,r=!1){let i=await ee(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return tr._forOperation(e,"link",i)}async function to(e,t,r=!1){let{auth:i}=e;if((0,h._isFirebaseServerApp)(i.app))return Promise.reject(b(i));let n="reauthenticate";try{let s=await ee(e,ts(i,n,t,e),r);S(s.idToken,i,"internal-error");let a=Q(s.idToken);S(a,i,"internal-error");let{sub:o}=a;return S(e.uid===o,i,"user-mismatch"),tr._forOperation(e,n,s)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&T(i,"user-mismatch"),e}}async function tl(e,t,r=!1){if((0,h._isFirebaseServerApp)(e.app))return Promise.reject(b(e));let i="signIn",n=await ts(e,i,t),s=await tr._fromIdTokenResponse(e,i,n);return r||await e._updateCurrentUser(s.user),s}class tc{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?tu._fromServerResponse(e,t):"totpInfo"in t?th._fromServerResponse(e,t):T(e,"internal-error")}}class tu extends tc{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new tu(t)}}class th extends tc{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new th(t)}}function td(e,t){return x(e,"POST","/v2/accounts/mfaEnrollment:start",F(e,t))}new WeakMap;let tp="__sak";class tf{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(tp,"1"),this.storage.removeItem(tp),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class tg extends tf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,r)=>{this.notifyListeners(e,r)});let r=e.key;t?this.detachListener():this.stopPolling();let i=()=>{let e=this.storage.getItem(r);(t||this.localCache[r]!==e)&&this.notifyListeners(r,e)},n=this.storage.getItem(r);(0,f.isIE)()&&10===document.documentMode&&n!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;let r=this.listeners[e];if(r)for(let e of Array.from(r))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tg.type="LOCAL";class tm extends tf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tm.type="SESSION";class t_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let r=new t_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:r,data:i}=e.data,n=this.handlersMap[r];if(!(null==n?void 0:n.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:r});let s=Array.from(n).map(async t=>t(e.origin,i)),a=await Promise.all(s.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function tv(e="",t=10){let r="";for(let e=0;e<t;e++)r+=Math.floor(10*Math.random());return e+r}t_.receivers=[];class tI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i,n,s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw Error("connection_unavailable");return new Promise((a,o)=>{let l=tv("",20);s.port1.start();let c=setTimeout(()=>{o(Error("unsupported_event"))},r);n={messageChannel:s,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(e.data.response);break;default:clearTimeout(c),clearTimeout(i),o(Error("invalid_response"))}}},this.handlers.add(n),s.port1.addEventListener("message",n.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{n&&this.removeMessageHandler(n)})}}function tw(){return window}function ty(){return void 0!==tw().WorkerGlobalScope&&"function"==typeof tw().importScripts}async function tT(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}let tE="firebaseLocalStorageDb",tk="firebaseLocalStorage",tb="fbase_key";class tR{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tS(e,t){return e.transaction([tk],t?"readwrite":"readonly").objectStore(tk)}function tP(){let e=indexedDB.open(tE,1);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(tk,{keyPath:tb})}catch(e){r(e)}}),e.addEventListener("success",async()=>{let r=e.result;r.objectStoreNames.contains(tk)?t(r):(r.close(),await new tR(indexedDB.deleteDatabase(tE)).toPromise(),t(await tP()))})})}async function tC(e,t,r){return new tR(tS(e,!0).put({[tb]:t,value:r})).toPromise()}async function tA(e,t){let r=tS(e,!1).get(t),i=await new tR(r).toPromise();return void 0===i?null:i.value}function tO(e,t){return new tR(tS(e,!0).delete(t)).toPromise()}class tN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await tP()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ty()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=t_._getInstance(ty()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await tT(),!this.activeServiceWorker)return;this.sender=new tI(this.activeServiceWorker);let r=await this.sender._send("ping",{},800);r&&(null==(e=r[0])?void 0:e.fulfilled)&&(null==(t=r[0])?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null==(t=null==navigator?void 0:navigator.serviceWorker)?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await tP();return await tC(e,tp,"1"),await tO(e,tp),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>tC(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>tA(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tO(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new tR(tS(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],r=new Set;if(0!==e.length)for(let{fbase_key:i,value:n}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(n)&&(this.notifyListeners(i,n),t.push(i));for(let e of Object.keys(this.localCache))this.localCache[e]&&!r.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let r=this.listeners[e];if(r)for(let e of Array.from(r))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}function tD(e,t){return x(e,"POST","/v2/accounts/mfaSignIn:start",F(e,t))}tN.type="LOCAL",eL("rcb"),new O(3e4,6e4);let tL="recaptcha";async function tU(e,t,r){var i;if(!e._getRecaptchaConfig())try{await eH(e)}catch(e){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let n;if(n="string"==typeof t?{phoneNumber:t}:t,"session"in n){let t=n.session;if("phoneNumber"in n){S("enroll"===t.type,e,"internal-error");let i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:n.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===eF){S((null==r?void 0:r.type)===tL,e,"argument-error");let i=await tM(e,t,r);return td(e,i)}return td(e,t)},a=ej(e,i,"mfaSmsEnrollment",s,"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{S("signin"===t.type,e,"internal-error");let s=(null==(i=n.multiFactorHint)?void 0:i.uid)||n.multiFactorUid;S(s,e,"missing-multi-factor-info");let a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===eF){S((null==r?void 0:r.type)===tL,e,"argument-error");let i=await tM(e,t,r);return tD(e,i)}return tD(e,t)},l=ej(e,a,"mfaSmsSignIn",o,"PHONE_PROVIDER");return(await l.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{let t={phoneNumber:n.phoneNumber,clientType:"CLIENT_TYPE_WEB"},i=async(e,t)=>{if(t.captchaResponse===eF){S((null==r?void 0:r.type)===tL,e,"argument-error");let i=await tM(e,t,r);return eQ(e,i)}return eQ(e,t)},s=ej(e,t,"sendVerificationCode",i,"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).sessionInfo}}finally{null==r||r._reset()}}async function tM(e,t,r){S(r.type===tL,e,"argument-error");let i=await r.verify();S("string"==typeof i,e,"argument-error");let n=Object.assign({},t);if("phoneEnrollmentInfo"in n){let e=n.phoneEnrollmentInfo.phoneNumber,t=n.phoneEnrollmentInfo.captchaResponse,r=n.phoneEnrollmentInfo.clientType,s=n.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(n,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:i,captchaResponse:t,clientType:r,recaptchaVersion:s}}),n}if(!("phoneSignInInfo"in n))return Object.assign(n,{recaptchaToken:i}),n;{let e=n.phoneSignInInfo.captchaResponse,t=n.phoneSignInInfo.clientType,r=n.phoneSignInInfo.recaptchaVersion;return Object.assign(n,{phoneSignInInfo:{recaptchaToken:i,captchaResponse:e,clientType:t,recaptchaVersion:r}}),n}}class tF{constructor(e){this.providerId=tF.PROVIDER_ID,this.auth=eO(e)}verifyPhoneNumber(e,t){return tU(this.auth,e,(0,f.getModularInstance)(t))}static credential(e,t){return e3._fromVerification(e,t)}static credentialFromResult(e){return tF.credentialFromTaggedObject(e)}static credentialFromError(e){return tF.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:r}=e;return t&&r?e3._fromTokenResponse(t,r):null}}tF.PROVIDER_ID="phone",tF.PHONE_SIGN_IN_METHOD="phone";class tx extends eq{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eX(e,this._buildIdpRequest())}_linkToIdToken(e,t){return eX(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return eX(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tV(e){return tl(e.auth,new tx(e),e.bypassAuthState)}function tj(e){let{auth:t,user:r}=e;return S(r,t,"internal-error"),to(r,new tx(e),e.bypassAuthState)}async function tH(e){let{auth:t,user:r}=e;return S(r,t,"internal-error"),ta(r,new tx(e),e.bypassAuthState)}class tW{constructor(e,t,r,i,n=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=n,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:n,error:s,type:a}=e;if(s)return void this.reject(s);let o={auth:this.auth,requestUri:t,sessionId:r,tenantId:n||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tV;case"linkViaPopup":case"linkViaRedirect":return tH;case"reauthViaPopup":case"reauthViaRedirect":return tj;default:T(this.auth,"internal-error")}}resolve(e){var t,r;t=this.pendingPromise,r="Pending promise was never set",t||P(r),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){var t,r;t=this.pendingPromise,r="Pending promise was never set",t||P(r),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}let t$=new O(2e3,1e4);class tq extends tW{constructor(e,t,r,i,n){super(e,t,i,n),this.provider=r,this.authWindow=null,this.pollId=null,tq.currentPopupAction&&tq.currentPopupAction.cancel(),tq.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return S(e,this.auth,"internal-error"),e}async onExecution(){var e,t;e=1===this.filter.length,t="Popup operations only handle one event",e||P(t);let r=tv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],r),this.authWindow.associatedEvent=r,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(E(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null==(e=this.authWindow)?void 0:e.associatedEvent)||null}cancel(){this.reject(E(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tq.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,r;if(null==(r=null==(t=this.authWindow)?void 0:t.window)?void 0:r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(E(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,t$.get())};e()}}tq.currentPopupAction=null;let tB=new Map;class tK extends tW{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=tB.get(this.auth._key());if(!e){try{let t=await tz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}tB.set(this.auth._key(),e)}return this.bypassAuthState||tB.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type)return void this.resolve(null);if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tz(e,t){var r;let i=ef("pendingRedirect",(r=t).config.apiKey,r.name),n=ed(e._redirectPersistence);if(!await n._isAvailable())return!1;let s=await n._get(i)==="true";return await n._remove(i),s}function tG(e,t){tB.set(e._key(),t)}async function tJ(e,t,r=!1){if((0,h._isFirebaseServerApp)(e.app))return Promise.reject(b(e));let i=eO(e),n=t?ed(t):(S(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver),s=new tK(i,n,r),a=await s.execute();return a&&!r&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}class tX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tQ(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!tQ(e)){let i=(null==(r=e.error.code)?void 0:r.split("auth/")[1])||"internal-error";t.onError(E(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tY(e))}saveEventToCache(e){this.cachedEventUids.add(tY(e)),this.lastProcessedEventTime=Date.now()}}function tY(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function tQ({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}async function tZ(e,t={}){return x(e,"GET","/v1/projects",t)}let t0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t1=/^https?/;async function t2(e){if(e.config.emulator)return;let{authorizedDomains:t}=await tZ(e);for(let e of t)try{if(function(e){let t=C(),{protocol:r,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){let n=new URL(e);return""===n.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&n.hostname===i}if(!t1.test(r))return!1;if(t0.test(e))return i===e;let n=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+n+"|"+n+")$","i").test(i)}(e))return}catch(e){}T(e,"unauthorized-domain")}let t3=new O(3e4,6e4);function t4(){let e=tw().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let t5=null,t6=new O(5e3,15e3),t8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},t7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function t9(e){let t,r,i,n,s,a=await (t5=t5||new Promise((t,r)=>{var i,n,s,a;function o(){t4(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{t4(),r(E(e,"network-request-failed"))},timeout:t3.get()})}if(null==(n=null==(i=tw().gapi)?void 0:i.iframes)?void 0:n.Iframe)t(gapi.iframes.getContext());else if(null==(s=tw().gapi)?void 0:s.load)o();else{let t=eL("iframefcb");return tw()[t]=()=>{gapi.load?o():r(E(e,"network-request-failed"))},(a=`${eD.gapiScript}?onload=${t}`,eD.loadJS(a)).catch(e=>r(e))}}).catch(e=>{throw t5=null,e})),o=tw().gapi;return S(o,e,"internal-error"),a.open({where:document.body,url:(S((t=e.config).authDomain,e,"auth-domain-config-required"),r=t.emulator?N(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,i={apiKey:t.apiKey,appName:e.name,v:h.SDK_VERSION},(n=t7.get(e.config.apiHost))&&(i.eid=n),(s=e._getFrameworks()).length&&(i.fw=s.join(",")),`${r}?${(0,f.querystring)(i).slice(1)}`),messageHandlersFilter:o.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t8,dontclear:!0},t=>new Promise(async(r,i)=>{await t.restyle({setHideOnLeave:!1});let n=E(e,"network-request-failed"),s=tw().setTimeout(()=>{i(n)},t6.get());function a(){tw().clearTimeout(s),r(t)}t.ping(a).then(a,()=>{i(n)})}))}let re={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rt{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}let rr=encodeURIComponent("fac");async function ri(e,t,r,i,n,s){S(e.config.authDomain,e,"auth-domain-config-required"),S(e.config.apiKey,e,"invalid-api-key");let a={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:i,v:h.SDK_VERSION,eventId:n};if(t instanceof e6)for(let[r,i]of(t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",(0,f.isEmpty)(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(s||{})))a[r]=i;if(t instanceof e8){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}for(let t of(e.tenantId&&(a.tid=e.tenantId),Object.keys(a)))void 0===a[t]&&delete a[t];let o=await e._getAppCheckToken(),l=o?`#${rr}=${encodeURIComponent(o)}`:"";return`${function({config:e}){return e.emulator?N(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,f.querystring)(a).slice(1)}${l}`}let rn="webStorageSupport",rs=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tm,this._completeRedirectFn=tJ,this._overrideRedirectResult=tG}async _openPopup(e,t,r,i){var n,s,a;s=null==(n=this.eventManagers[e._key()])?void 0:n.manager,a="_initialize() not called before _openPopup()",s||P(a);let o=await ri(e,t,r,C(),i);return function(e,t,r,i=500,n=600){let s=Math.max((window.screen.availHeight-n)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString(),o="",l=Object.assign(Object.assign({},re),{width:i.toString(),height:n.toString(),top:s,left:a}),c=(0,f.getUA)().toLowerCase();r&&(o=eI(c)?"_blank":r),e_(c)&&(t=t||"http://localhost",l.scrollbars="yes");let u=Object.entries(l).reduce((e,[t,r])=>`${e}${t}=${r},`,"");if(function(e=(0,f.getUA)()){var t;return ek(e)&&!!(null==(t=window.navigator)?void 0:t.standalone)}(c)&&"_self"!==o){var h,d;let e,r;return h=t||"",d=o,(e=document.createElement("a")).href=h,e.target=d,(r=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r),new rt(null)}let p=window.open(t||"",o,u);S(p,e,"popup-blocked");try{p.focus()}catch(e){}return new rt(p)}(e,o,tv())}async _openRedirect(e,t,r,i){var n;return await this._originValidation(e),n=await ri(e,t,r,C(),i),tw().location.href=n,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){var r;let{manager:e,promise:i}=this.eventManagers[t];return e?Promise.resolve(e):(r="If manager is not set, promise should be",i||P(r),i)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){let t=await t9(e),r=new tX(e);return t.register("authEvent",t=>(S(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rn,{type:rn},r=>{var i;let n=null==(i=null==r?void 0:r[0])?void 0:i[rn];void 0!==n&&t(!!n),T(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=t2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eb()||ev()||ek()}};var ra="@firebase/auth",ro="1.10.7";class rl{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null==(e=this.auth.currentUser)?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}let rc=(0,f.getExperimentalSetting)("authIdTokenMaxAge")||300,ru=null;eD={loadJS:e=>new Promise((t,r)=>{var i,n;let s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=e=>{let t=E("internal-error");t.customData=e,r(t)},s.type="text/javascript",s.charset="UTF-8",(null!=(n=null==(i=document.getElementsByTagName("head"))?void 0:i[0])?n:document).appendChild(s)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},s="Browser",(0,h._registerComponent)(new _.Component("auth",(e,{options:t})=>{let r,i,n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;S(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});let u=new eA(n,a,o,{apiKey:l,authDomain:c,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eR(s)});return i=(Array.isArray(r=(null==t?void 0:t.persistence)||[])?r:[r]).map(ed),(null==t?void 0:t.errorMap)&&u._updateErrorMap(t.errorMap),u._initializeWithPersistence(i,null==t?void 0:t.popupRedirectResolver),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,h._registerComponent)(new _.Component("auth-internal",e=>new rl(eO(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,h.registerVersion)(ra,ro,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(s)),(0,h.registerVersion)(ra,ro,"esm2017"),e.s([],5731),e.i(5731),e.i(36180);var rh=e.i(17875),rd=p;let rp="firebasestorage.googleapis.com";class rf extends rd.FirebaseError{constructor(e,t,r=0){super(rg(e),`Firebase Storage: ${t} (${rg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rf.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function rg(e){return"storage/"+e}function rm(e){return new rf(l.INVALID_ARGUMENT,e)}function r_(){return new rf(l.APP_DELETED,"The Firebase app was deleted.")}(a=l||(l={})).UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment";class rv{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=rv.makeFromUrl(e,t)}catch(t){return new rv(e,"")}if(""===r.path)return r;throw new rf(l.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)",n=RegExp("^gs://"+i+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}let a=t.replace(/[.]/g,"\\."),o=RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),c=t===rp?"(?:storage.googleapis.com|storage.cloud.google.com)":t,u=[{regex:n,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:o,indices:{bucket:1,path:3},postModify:s},{regex:RegExp(`^https?://${c}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let t=0;t<u.length;t++){let i=u[t],n=i.regex.exec(e);if(n){let e=n[i.indices.bucket],t=n[i.indices.path];t||(t=""),r=new rv(e,t),i.postModify(r);break}}if(null==r)throw new rf(l.INVALID_URL,"Invalid URL '"+e+"'.");return r}}class rI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function rw(e,t,r,i){if(i<t)throw rm(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>r)throw rm(`Invalid value for '${e}'. Expected ${r} or less.`)}(o=c||(c={}))[o.NO_ERROR=0]="NO_ERROR",o[o.NETWORK_ERROR=1]="NETWORK_ERROR",o[o.ABORT=2]="ABORT";class ry{constructor(e,t,r,i,n,s,a,o,l,c,u,h=!0,d=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=n,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.isUsingEmulator=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){let e=(e,t)=>{if(t)return void e(!1,new rT(!1,null,!0));let r=this.connectionFactory_();this.pendingConnection_=r;let i=e=>{let t=e.loaded,r=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,r)};null!==this.progressCallback_&&r.addUploadProgressListener(i),r.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{var t;let n,s,a;null!==this.progressCallback_&&r.removeUploadProgressListener(i),this.pendingConnection_=null;let o=r.getErrorCode()===c.NO_ERROR,l=r.getStatus();!o||(t=this.additionalRetryCodes_,n=l>=500&&l<600,s=-1!==[408,429].indexOf(l),a=-1!==t.indexOf(l),(n||s||a)&&this.retry)?e(!1,new rT(!1,null,r.getErrorCode()===c.ABORT)):e(!0,new rT(-1!==this.successCodes_.indexOf(l),r))})},t=(e,t)=>{let r=this.resolve_,i=this.reject_,n=t.connection;if(t.wasSuccessCode)try{let e=this.callback_(n,n.getResponse());void 0!==e?r(e):r()}catch(e){i(e)}else if(null!==n){let e=new rf(l.UNKNOWN,"An unknown error occurred, please check the error payload for server response.");e.serverResponse=n.getErrorText(),i(this.errorCallback_?this.errorCallback_(n,e):e)}else i(t.canceled?this.appDelete_?r_():new rf(l.CANCELED,"User canceled the upload/download."):new rf(l.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))};this.canceled_?t(!1,new rT(!1,null,!0)):this.backoffId_=function(e,t,r){let i=1,n=null,s=null,a=!1,o=0,l=!1;function c(...e){l||(l=!0,t.apply(null,e))}function u(t){n=setTimeout(()=>{n=null,e(d,2===o)},t)}function h(){s&&clearTimeout(s)}function d(e,...t){let r;if(l)return void h();if(e||2===o||a){h(),c.call(null,e,...t);return}i<64&&(i*=2),1===o?(o=2,r=0):r=(i+Math.random())*1e3,u(r)}let p=!1;function f(e){p||(p=!0,h(),!l&&(null!==n?(e||(o=2),clearTimeout(n),u(0)):e||(o=1)))}return u(0),s=setTimeout(()=>{a=!0,f(!0)},r),f}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class rT{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}class rE{constructor(e,t){this._service=e,t instanceof rv?this._location=t:this._location=rv.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new rE(e,t)}get root(){let e=new rv(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){var e;let t;return -1===(t=(e=this._location.path).lastIndexOf("/",e.length-2))?e:e.slice(t+1)}get storage(){return this._service}get parent(){let e=function(e){if(0===e.length)return null;let t=e.lastIndexOf("/");return -1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;let t=new rv(this._location.bucket,e);return new rE(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw new rf(l.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}}function rk(e,t){let r=null==t?void 0:t.storageBucket;return null==r?null:rv.makeFromBucketSpec(r,e)}class rb{constructor(e,t,r,i,n,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=n,this._isUsingEmulator=s,this._bucket=null,this._host=rp,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,null!=i?this._bucket=rv.makeFromBucketSpec(i,this._host):this._bucket=rk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=rv.makeFromBucketSpec(this._url,e):this._bucket=rk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rw("time",0,1/0,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rw("time",0,1/0,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if((0,h._isFirebaseServerApp)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rE(this,e)}_makeRequest(e,t,r,i,n=!0){if(this._deleted)return new rI(r_());{let s=function(e,t,r,i,n,s,a=!0,o=!1){let l=function(e){let t=encodeURIComponent,r="?";for(let i in e)e.hasOwnProperty(i)&&(r=r+(t(i)+"=")+t(e[i])+"&");return r.slice(0,-1)}(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return t&&(u["X-Firebase-GMPID"]=t),null!==r&&r.length>0&&(u.Authorization="Firebase "+r),u["X-Firebase-Storage-Version"]="webjs/"+(null!=s?s:"AppManager"),null!==i&&(u["X-Firebase-AppCheck"]=i),new ry(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,n,a,o)}(e,this._appId,r,i,t,this._firebaseVersion,n,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){let[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}let rR="@firebase/storage",rS="0.13.13",rP="storage";(0,h._registerComponent)(new _.Component(rP,function(e,{instanceIdentifier:t}){return new rb(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t,h.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,h.registerVersion)(rR,rS,""),(0,h.registerVersion)(rR,rS,"esm2017");var rC=e.i(44435);let rA="@firebase/installations",rO="0.6.17",rN=`w:${rO}`,rD="FIS_v2",rL=new p.ErrorFactory("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rU(e){return e instanceof p.FirebaseError&&e.code.includes("request-failed")}function rM({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function rF(e){return{token:e.token,requestStatus:2,expiresIn:Number(e.expiresIn.replace("s","000")),creationTime:Date.now()}}async function rx(e,t){let r=(await t.json()).error;return rL.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function rV({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function rj(e){let t=await e();return t.status>=500&&t.status<600?e():t}async function rH({appConfig:e,heartbeatServiceProvider:t},{fid:r}){let i=rM(e),n=rV(e),s=t.getImmediate({optional:!0});if(s){let e=await s.getHeartbeatsHeader();e&&n.append("x-firebase-client",e)}let a={method:"POST",headers:n,body:JSON.stringify({fid:r,authVersion:rD,appId:e.appId,sdkVersion:rN})},o=await rj(()=>fetch(i,a));if(o.ok){let e=await o.json();return{fid:e.fid||r,registrationStatus:2,refreshToken:e.refreshToken,authToken:rF(e.authToken)}}throw await rx("Create Installation",o)}function rW(e){return new Promise(t=>{setTimeout(t,e)})}let r$=/^[cdef][\w-]{21}$/;function rq(e){return`${e.appName}!${e.appId}`}let rB=new Map;function rK(e,t){var r,i;let n,s=rq(e);rz(s,t),r=s,i=t,(n=(!rG&&"BroadcastChannel"in self&&((rG=new BroadcastChannel("[Firebase] FID Change")).onmessage=e=>{rz(e.data.key,e.data.fid)}),rG))&&n.postMessage({key:r,fid:i}),0===rB.size&&rG&&(rG.close(),rG=null)}function rz(e,t){let r=rB.get(e);if(r)for(let e of r)e(t)}let rG=null,rJ="firebase-installations-store",rX=null;function rY(){return rX||(rX=(0,rC.openDB)("firebase-installations-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(rJ)}})),rX}async function rQ(e,t){let r=rq(e),i=(await rY()).transaction(rJ,"readwrite"),n=i.objectStore(rJ),s=await n.get(r);return await n.put(t,r),await i.done,s&&s.fid===t.fid||rK(e,t.fid),t}async function rZ(e){let t=rq(e),r=(await rY()).transaction(rJ,"readwrite");await r.objectStore(rJ).delete(t),await r.done}async function r0(e,t){let r=rq(e),i=(await rY()).transaction(rJ,"readwrite"),n=i.objectStore(rJ),s=await n.get(r),a=t(s);return void 0===a?await n.delete(r):await n.put(a,r),await i.done,a&&(!s||s.fid!==a.fid)&&rK(e,a.fid),a}async function r1(e){let t,r=await r0(e.appConfig,r=>{let i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(rL.create("app-offline"))};let r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=r2(e,r);return{installationEntry:r,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:r3(e)}:{installationEntry:t}}(e,r5(r||{fid:function(){try{var e;let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let r=(e=t,btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22));return r$.test(r)?r:""}catch(e){return""}}(),registrationStatus:0}));return t=i.registrationPromise,i.installationEntry});return""===r.fid?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}async function r2(e,t){try{let r=await rH(e,t);return rQ(e.appConfig,r)}catch(r){throw rU(r)&&409===r.customData.serverCode?await rZ(e.appConfig):await rQ(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function r3(e){let t=await r4(e.appConfig);for(;1===t.registrationStatus;)await rW(100),t=await r4(e.appConfig);if(0===t.registrationStatus){let{installationEntry:t,registrationPromise:r}=await r1(e);return r||t}return t}function r4(e){return r0(e,e=>{if(!e)throw rL.create("installation-not-found");return r5(e)})}function r5(e){var t;return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e}async function r6({appConfig:e,heartbeatServiceProvider:t},r){let i=function(e,{fid:t}){return`${rM(e)}/${t}/authTokens:generate`}(e,r),n=function(e,{refreshToken:t}){var r;let i=rV(e);return i.append("Authorization",(r=t,`${rD} ${r}`)),i}(e,r),s=t.getImmediate({optional:!0});if(s){let e=await s.getHeartbeatsHeader();e&&n.append("x-firebase-client",e)}let a={method:"POST",headers:n,body:JSON.stringify({installation:{sdkVersion:rN,appId:e.appId}})},o=await rj(()=>fetch(i,a));if(o.ok)return rF(await o.json());throw await rx("Generate Auth Token",o)}async function r8(e,t=!1){let r,i=await r0(e.appConfig,i=>{var n,s,a;let o;if(!it(i))throw rL.create("not-registered");let l=i.authToken;if(!t&&2===(n=l).requestStatus&&(s=n,!((o=Date.now())<s.creationTime)&&!(s.creationTime+s.expiresIn<o+36e5)))return i;if(1===l.requestStatus)return r=r7(e,t),i;{let t;if(!navigator.onLine)throw rL.create("app-offline");let n=(a=i,t={requestStatus:1,requestTime:Date.now()},Object.assign(Object.assign({},a),{authToken:t}));return r=ie(e,n),n}});return r?await r:i.authToken}async function r7(e,t){let r=await r9(e.appConfig);for(;1===r.authToken.requestStatus;)await rW(100),r=await r9(e.appConfig);let i=r.authToken;return 0===i.requestStatus?r8(e,t):i}function r9(e){return r0(e,e=>{var t;if(!it(e))throw rL.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function ie(e,t){try{let r=await r6(e,t),i=Object.assign(Object.assign({},t),{authToken:r});return await rQ(e.appConfig,i),r}catch(r){if(rU(r)&&(401===r.customData.serverCode||404===r.customData.serverCode))await rZ(e.appConfig);else{let r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await rQ(e.appConfig,r)}throw r}}function it(e){return void 0!==e&&2===e.registrationStatus}async function ir(e){let{installationEntry:t,registrationPromise:r}=await r1(e);return r?r.catch(console.error):r8(e).catch(console.error),t.fid}async function ii(e,t=!1){return await is(e),(await r8(e,t)).token}async function is(e){let{registrationPromise:t}=await r1(e);t&&await t}function ia(e){return rL.create("missing-app-config-values",{valueName:e})}let io="installations";(0,h._registerComponent)(new _.Component(io,e=>{let t=e.getProvider("app").getImmediate(),r=function(e){if(!e||!e.options)throw ia("App Configuration");if(!e.name)throw ia("App Name");for(let t of["projectId","apiKey","appId"])if(!e.options[t])throw ia(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),i=(0,h._getProvider)(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},"PUBLIC")),(0,h._registerComponent)(new _.Component("installations-internal",e=>{let t=e.getProvider("app").getImmediate(),r=(0,h._getProvider)(t,io).getImmediate();return{getId:()=>ir(r),getToken:e=>ii(r,e)}},"PRIVATE")),(0,h.registerVersion)(rA,rO),(0,h.registerVersion)(rA,rO,"esm2017");let il="analytics",ic="https://www.googletagmanager.com/gtag/js",iu=new g.Logger("@firebase/analytics"),ih=new p.ErrorFactory("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function id(e){if(!e.startsWith(ic)){let t=ih.create("invalid-gtag-resource",{gtagURL:e});return iu.warn(t.message),""}return e}function ip(e){return Promise.all(e.map(e=>e.catch(e=>e)))}async function ig(e,t,r,i,n,s){let a=i[n];try{if(a)await t[a];else{let e=(await ip(r)).find(e=>e.measurementId===n);e&&await t[e.appId]}}catch(e){iu.error(e)}e("config",n,s)}async function im(e,t,r,i,n){try{let s=[];if(n&&n.send_to){let e=n.send_to;Array.isArray(e)||(e=[e]);let i=await ip(r);for(let r of e){let e=i.find(e=>e.measurementId===r),n=e&&t[e.appId];if(n)s.push(n);else{s=[];break}}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",i,n||{})}catch(e){iu.error(e)}}let i_=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};async function iv(e){var t;let{appId:r,apiKey:i}=e,n={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":i})},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",r),a=await fetch(s,n);if(200!==a.status&&304!==a.status){let e="";try{let r=await a.json();(null==(t=r.error)?void 0:t.message)&&(e=r.error.message)}catch(e){}throw ih.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}async function iI(e,t=i_,r){let{appId:i,apiKey:n,measurementId:s}=e.options;if(!i)throw ih.create("no-app-id");if(!n){if(s)return{measurementId:s,appId:i};throw ih.create("no-api-key")}let a=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new iy;return setTimeout(async()=>{o.abort()},void 0!==r?r:6e4),iw({appId:i,apiKey:n,measurementId:s},a,o,t)}async function iw(e,{throttleEndTimeMillis:t,backoffCount:r},i,n=i_){var s,a,o;let{appId:l,measurementId:c}=e;try{await (a=i,o=t,new Promise((e,t)=>{let r=setTimeout(e,Math.max(o-Date.now(),0));a.addEventListener(()=>{clearTimeout(r),t(ih.create("fetch-throttle",{throttleEndTimeMillis:o}))})}))}catch(e){if(c)return iu.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${null==e?void 0:e.message}]`),{appId:l,measurementId:c};throw e}try{let t=await iv(e);return n.deleteThrottleMetadata(l),t}catch(o){if(!function(e){if(!(e instanceof p.FirebaseError)||!e.customData)return!1;let t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(o)){if(n.deleteThrottleMetadata(l),c)return iu.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${null==o?void 0:o.message}]`),{appId:l,measurementId:c};throw o}let t=503===Number(null==(s=null==o?void 0:o.customData)?void 0:s.httpStatus)?(0,p.calculateBackoffMillis)(r,n.intervalMillis,30):(0,p.calculateBackoffMillis)(r,n.intervalMillis),a={throttleEndTimeMillis:Date.now()+t,backoffCount:r+1};return n.setThrottleMetadata(l,a),iu.debug(`Calling attemptFetch again in ${t} millis`),iw(e,a,i,n)}}class iy{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function iT(e,t,r,i,n){if(n&&n.global)return void e("event",r,i);{let n=await t;e("event",r,Object.assign(Object.assign({},i),{send_to:n}))}}async function iE(){if(!(0,p.isIndexedDBAvailable)())return iu.warn(ih.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await (0,p.validateIndexedDBOpenable)()}catch(e){return iu.warn(ih.create("indexeddb-unavailable",{errorInfo:null==e?void 0:e.toString()}).message),!1}return!0}async function ik(e,i,n,s,a,o,l){var c,u,h;let d,p,f,g,m=iI(e);m.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&iu.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>iu.error(e)),i.push(m);let _=iE().then(e=>e?s.getId():void 0),[v,I]=await Promise.all([m,_]);!function(e){for(let t of Object.values(window.document.getElementsByTagName("script")))if(t.src&&t.src.includes(ic)&&t.src.includes(e))return t;return null}(o)&&(u=v.measurementId,h={createScriptURL:id},window.trustedTypes&&(d=window.trustedTypes.createPolicy("firebase-js-sdk-policy",h)),p=d,f=document.createElement("script"),g=`${ic}?l=${o}&id=${u}`,f.src=p?null==p?void 0:p.createScriptURL(g):g,f.async=!0,document.head.appendChild(f)),r&&(a("consent","default",r),r=void 0),a("js",new Date);let w=null!=(c=null==l?void 0:l.config)?c:{};return w.origin="firebase",w.update=!0,null!=I&&(w.firebase_id=I),a("config",v.measurementId,w),t&&(a("set",t),t=void 0),v.measurementId}class ib{constructor(e){this.app=e}_delete(){return delete iR[this.app.options.appId],Promise.resolve()}}let iR={},iS=[],iP={},iC="dataLayer",iA=!1;async function iO(){if((0,p.isBrowserExtension)()||!(0,p.areCookiesEnabled)()||!(0,p.isIndexedDBAvailable)())return!1;try{return await (0,p.validateIndexedDBOpenable)()}catch(e){return!1}}let iN="@firebase/analytics",iD="0.10.16";(0,h._registerComponent)(new _.Component(il,(e,{options:t})=>(function(e,t,r){let s=[];if((0,p.isBrowserExtension)()&&s.push("This is a browser extension environment."),(0,p.areCookiesEnabled)()||s.push("Cookies are not available."),s.length>0){let e=s.map((e,t)=>`(${t+1}) ${e}`).join(" "),t=ih.create("invalid-analytics-context",{errorInfo:e});iu.warn(t.message)}let a=e.options.appId;if(!a)throw ih.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)iu.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ih.create("no-api-key");if(null!=iR[a])throw ih.create("already-exists",{id:a});if(!iA){var o,l;let e,t;e=[],Array.isArray(window[iC])?e=window[iC]:window[iC]=e;let{wrappedGtag:r,gtagCore:s}=(o="gtag",t=function(){window[iC].push(arguments)},window[o]&&"function"==typeof window[o]&&(t=window[o]),window[o]=(l=t,async function(e,...t){try{if("event"===e){let[e,r]=t;await im(l,iR,iS,e,r)}else if("config"===e){let[e,r]=t;await ig(l,iR,iS,iP,e,r)}else if("consent"===e){let[e,r]=t;l("consent",e,r)}else if("get"===e){let[e,r,i]=t;l("get",e,r,i)}else if("set"===e){let[e]=t;l("set",e)}else l(e,...t)}catch(e){iu.error(e)}}),{gtagCore:t,wrappedGtag:window[o]});n=r,i=s,iA=!0}return iR[a]=ik(e,iS,iP,t,i,iC,r),new ib(e)})(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,h._registerComponent)(new _.Component("analytics-internal",function(e){try{let t=e.getProvider(il).getImmediate();return{logEvent:(e,r,i)=>{var s;return s=t,void(s=(0,p.getModularInstance)(s),iT(n,iR[s.app.options.appId],e,r,i).catch(e=>iu.error(e)))}}}catch(e){throw ih.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),(0,h.registerVersion)(iN,iD),(0,h.registerVersion)(iN,iD,"esm2017");let iL={apiKey:u.default.env.NEXT_PUBLIC_FIREBASE_API_KEY||"AIzaSyARGWbMOdRsYzX3uHHwetNQ4g2IJFHv5ps",authDomain:u.default.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN||"ids-ops.firebaseapp.com",projectId:u.default.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID||"ids-ops",storageBucket:u.default.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET||"ids-ops.firebasestorage.app",messagingSenderId:u.default.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||"118481425666",appId:u.default.env.NEXT_PUBLIC_FIREBASE_APP_ID||"1:118481425666:web:781f292fa80972e03ade1b",measurementId:u.default.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID||"G-KWPK0WYJWB"},iU=(0,d.getApps)().length>0?(0,d.getApp)():(0,d.initializeApp)(iL),iM=function(e=(0,h.getApp)()){let t=(0,h._getProvider)(e,"auth");if(t.isInitialized())return t.getImmediate();let r=function(e,t){let r=(0,h._getProvider)(e,"auth");if(r.isInitialized()){let e=r.getImmediate(),i=r.getOptions();if((0,f.deepEqual)(i,null!=t?t:{}))return e;T(e,"already-initialized")}return r.initialize({options:t})}(e,{popupRedirectResolver:rs,persistence:[tN,tg,tm]}),i=(0,f.getExperimentalSetting)("authTokenSyncURL");if(i&&"boolean"==typeof isSecureContext&&isSecureContext){let e=new URL(i,location.origin);if(location.origin===e.origin){let t,i=(t=e.toString(),async e=>{let r=e&&await e.getIdTokenResult(),i=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>rc)return;let n=null==r?void 0:r.token;ru!==n&&(ru=n,await fetch(t,{method:n?"POST":"DELETE",headers:n?{Authorization:`Bearer ${n}`}:{}}))});(0,f.getModularInstance)(r).beforeAuthStateChanged(i,()=>i(r.currentUser)),(0,f.getModularInstance)(r).onIdTokenChanged(e=>i(e),void 0,void 0)}}let n=(0,f.getDefaultEmulatorHost)("auth");return n&&function(e,t,r){let i=eO(e);S(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");let n=eW(t),{host:s,port:a}=function(e){let t=eW(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};let i=r[2].split("@").pop()||"",n=/^(\[[^\]]+\])(:|$)/.exec(i);if(n){let e=n[1];return{host:e,port:e$(i.substr(e.length+1))}}{let[e,t]=i.split(":");return{host:e,port:e$(t)}}}(t),o=null===a?"":`:${a}`,l={url:`${n}//${s}${o}/`},c=Object.freeze({host:s,port:a,protocol:n.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!i._canInitEmulator){S(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),S((0,f.deepEqual)(l,i.config.emulator)&&(0,f.deepEqual)(c,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=l,i.emulatorConfig=c,i.settings.appVerificationDisabledForTesting=!0,(0,f.isCloudWorkstation)(s)?((0,f.pingServer)(`${n}//${s}${o}`),(0,f.updateEmulatorBanner)("Auth",!0)):function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(r,`http://${n}`),r}(iU),iF=(0,rh.getFirestore)(iU),ix=function(e=(0,h.getApp)(),t){e=(0,rd.getModularInstance)(e);let r=(0,h._getProvider)(e,rP).getImmediate({identifier:void 0}),i=(0,rd.getDefaultEmulatorHostnameAndPort)("storage");return i&&function(e,t,r,i={}){!function(e,t,r,i={}){e.host=`${t}:${r}`;let n=(0,rd.isCloudWorkstation)(t);n&&((0,rd.pingServer)(`https://${e.host}/b`),(0,rd.updateEmulatorBanner)("Storage",!0)),e._isUsingEmulator=!0,e._protocol=n?"https":"http";let{mockUserToken:s}=i;s&&(e._overrideAuthToken="string"==typeof s?s:(0,rd.createMockUserToken)(s,e.app.options.projectId))}(e,t,r,i)}(r,...i),r}(iU),iV=iO().then(e=>e?function(e=(0,h.getApp)()){e=(0,p.getModularInstance)(e);let t=(0,h._getProvider)(e,il);return t.isInitialized()?t.getImmediate():function(e,t={}){let r=(0,h._getProvider)(e,il);if(r.isInitialized()){let e=r.getImmediate();if((0,p.deepEqual)(t,r.getOptions()))return e;throw ih.create("already-initialized")}return r.initialize({options:t})}(e)}(iU):null);e.s(["analytics",()=>iV,"app",()=>iU,"auth",()=>iM,"db",()=>iF,"storage",()=>ix],59141)}]);