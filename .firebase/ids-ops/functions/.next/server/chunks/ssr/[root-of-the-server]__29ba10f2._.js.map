{"version":3,"sources":["../../../../node_modules/next/src/build/webpack/loaders/next-flight-loader/server-reference.ts","../../../../src/ai/genkit.ts","../../../../node_modules/next/src/build/webpack/loaders/next-flight-loader/action-validate.ts","../../../../src/ai/flows/extract-rate-con-flow.ts","../../../../.next-internal/server/app/%28admin%29/admin/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\nexport { registerServerReference } from 'react-server-dom-webpack/server'\n","import { genkit } from 'genkit';\nimport { googleAI } from '@genkit-ai/google-genai';\n\nexport const ai = genkit({\n  plugins: [googleAI()],\n  model: 'googleai/gemini-2.0-flash',\n});\n","// This function ensures that all the exported values are valid server actions,\n// during the runtime. By definition all actions are required to be async\n// functions, but here we can only check that they are functions.\nexport function ensureServerEntryExports(actions: any[]) {\n  for (let i = 0; i < actions.length; i++) {\n    const action = actions[i]\n    if (typeof action !== 'function') {\n      throw new Error(\n        `A \"use server\" file can only export async functions, found ${typeof action}.\\nRead more: https://nextjs.org/docs/messages/invalid-use-server-value`\n      )\n    }\n  }\n}\n","\n'use server';\n/**\n * @fileOverview A flow to extract information from a rate confirmation document.\n *\n * - extractRateCon - A function that handles the rate confirmation extraction process.\n * - ExtractRateConInput - The input type for the extractRateCon function.\n * - ExtractRateConOutput - The return type for the extractRateCon function.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\n\nconst ExtractRateConInputSchema = z.object({\n  rateConDataUri: z\n    .string()\n    .describe(\n      \"A rate confirmation document, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'.\"\n    ),\n});\nexport type ExtractRateConInput = z.infer<typeof ExtractRateConInputSchema>;\n\nconst StopSchema = z.object({\n  type: z.enum(['pickup', 'delivery']).describe('The type of stop.'),\n  location: z.string().describe('The location address for the stop.'),\n  date: z.string().describe('The date for the stop.'),\n  time: z.string().describe('The time or time window for the stop.'),\n});\nexport type Stop = z.infer<typeof StopSchema>;\n\n\nconst ExtractRateConOutputSchema = z.object({\n  broker: z.string().describe('The name of the broker or company.'),\n  loadNumber: z.string().describe('The unique identifier for the load.'),\n  stops: z.array(StopSchema).describe('An array of all pickup and delivery stops for the load.'),\n  commodity: z.string().describe('The type of commodity being shipped.'),\n  weight: z.number().describe('The weight of the load in pounds (lbs).'),\n  rate: z.number().describe('The flat rate for the load in dollars.'),\n});\nexport type ExtractRateConOutput = z.infer<typeof ExtractRateConOutputSchema>;\n\nexport async function extractRateCon(input: ExtractRateConInput): Promise<ExtractRateConOutput> {\n  return extractRateConFlow(input);\n}\n\nconst prompt = ai.definePrompt({\n  name: 'extractRateConPrompt',\n  input: { schema: ExtractRateConInputSchema },\n  output: { schema: ExtractRateConOutputSchema },\n  prompt: `You are an expert logistics coordinator. Your task is to extract key information from the provided Rate Confirmation document, including all stops.\n\n  Document: {{media url=rateConDataUri}}\n  \n  Please extract the following information:\n  - Broker Name\n  - Load Number\n  - All Stops (pickups and deliveries), in chronological order.\n  - Commodity\n  - Weight (in lbs)\n  - Rate (in dollars)\n  \n  Provide the extracted information in the specified JSON format.`,\n});\n\nconst extractRateConFlow = ai.defineFlow(\n  {\n    name: 'extractRateConFlow',\n    inputSchema: ExtractRateConInputSchema,\n    outputSchema: ExtractRateConOutputSchema,\n  },\n  async (input) => {\n    const { output } = await prompt(input);\n    return output!;\n  }\n);\n","export {extractRateCon as '4095271e54632bd3d82c7b30beacf3abcc854564a4'} from 'ACTIONS_MODULE0'\n"],"names":["registerServerReference","ensureServerEntryExports","actions","i","length","action","Error"],"mappings":"6CAAoD,OAAA,cAAA,CAAA,EAAA,aAAA,oCAC3CA,0BAAAA,qCAAAA,EAAAA,uBAAuB,YAAQ,CAAA,CAAA,IAAA,kQCDxC,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,6CAEO,IAAM,EAAK,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,CACvB,QAAS,CAAC,CAAA,EAAA,EAAA,QAAA,AAAQ,IAAG,CACrB,MAAO,2BACT,wECHO,SAASC,EAAyBC,CAAc,EACrD,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAQE,MAAM,CAAED,IAAK,CACvC,IAAME,EAASH,CAAO,CAACC,EAAE,CACzB,GAAsB,YAAY,AAA9B,OAAOE,EACT,MAAM,OAAA,cAEL,CAFK,AAAIC,MACR,CAAC,2DAA2D,EAAE,OAAOD,EAAO;AAAA,oEAAuE,CAAC,EADhJ,oBAAA,OAAA,kBAAA,iBAAA,CAEN,EAEJ,CACF,0EATgBJ,2BAAAA,qCAAAA,oDCOhB,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,0DAEA,IAAM,EAA4B,EAAA,CAAC,CAAC,MAAM,CAAC,CACzC,eAAgB,EAAA,CAAC,CACd,MAAM,GACN,QAAQ,CACP,+JAEN,GAGM,EAAa,EAAA,CAAC,CAAC,MAAM,CAAC,CAC1B,KAAM,EAAA,CAAC,CAAC,IAAI,CAAC,CAAC,SAAU,WAAW,EAAE,QAAQ,CAAC,qBAC9C,SAAU,EAAA,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC,sCAC9B,KAAM,EAAA,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC,0BAC1B,KAAM,EAAA,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC,wCAC5B,GAIM,EAA6B,EAAA,CAAC,CAAC,MAAM,CAAC,CAC1C,OAAQ,EAAA,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC,sCAC5B,WAAY,EAAA,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC,uCAChC,MAAO,EAAA,CAAC,CAAC,KAAK,CAAC,GAAY,QAAQ,CAAC,2DACpC,UAAW,EAAA,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC,wCAC/B,OAAQ,EAAA,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC,2CAC5B,KAAM,EAAA,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC,yCAC5B,GAGO,eAAe,EAAe,CAA0B,EAC7D,OAAO,EAAmB,EAC5B,CAEA,IAAM,EAAS,EAAA,EAAE,CAAC,YAAY,CAAC,CAC7B,KAAM,uBACN,MAAO,CAAE,OAAQ,CAA0B,EAC3C,OAAQ,CAAE,OAAQ,CAA2B,EAC7C,OAAQ,CAAC;;;;;;;;;;;;iEAYsD,CAAC,AAClE,GAEM,EAAqB,EAAA,EAAE,CAAC,UAAU,CACtC,CACE,KAAM,qBACN,YAAa,EACb,aAAc,CAChB,EACA,MAAO,IACL,GAAM,QAAE,CAAM,CAAE,CAAG,MAAM,EAAO,GAChC,OAAO,CACT,mCAhCoB,IAAA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,0FCzCtB,IAAA,EAAA,EAAA,CAAA,CAAA","ignoreList":[0,2]}