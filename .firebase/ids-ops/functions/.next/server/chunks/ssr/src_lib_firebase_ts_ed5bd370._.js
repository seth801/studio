module.exports=[20237,a=>{"use strict";let b,c,d,e;var f,g,h,i,j,k=a.i(11243);(0,k.registerVersion)("firebase","11.9.1","app");var l=k,m=a.i(69304),l=k,n=m,o=a.i(52100),p=a.i(82672),q=a.i(32279);function r(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let s=new n.ErrorFactory("auth","Firebase",r()),t=new q.Logger("@firebase/auth");function u(a,...b){t.logLevel<=q.LogLevel.ERROR&&t.error(`Auth (${k.SDK_VERSION}): ${a}`,...b)}function v(a,...b){throw z(a,...b)}function w(a,...b){return z(a,...b)}function x(a,b,c){let d=Object.assign(Object.assign({},r()),{[b]:c});return new n.ErrorFactory("auth","Firebase",d).create(b,{appName:a.name})}function y(a){return x(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z(a,...b){if("string"!=typeof a){let c=b[0],d=[...b.slice(1)];return d[0]&&(d[0].appName=a.name),a._errorFactory.create(c,...d)}return s.create(a,...b)}function A(a,b,...c){if(!a)throw z(b,...c)}function B(a){let b="INTERNAL ASSERTION FAILED: "+a;throw u(b),Error(b)}function C(){var a;return"undefined"!=typeof self&&(null==(a=self.location)?void 0:a.protocol)||null}class D{static initialize(a,b,c){this.fetchImpl=a,b&&(this.headersImpl=b),c&&(this.responseImpl=c)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void B("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void B("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void B("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}let E={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},F=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G=new class{constructor(a,b){this.shortDelay=a,this.longDelay=b,b>a||B("Short delay should be less than long delay!"),this.isMobile=(0,n.isMobileCordova)()||(0,n.isReactNative)()}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===C()||"https:"===C()||(0,n.isBrowserExtension)()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}(3e4,6e4);function H(a,b){return a.tenantId&&!b.tenantId?Object.assign(Object.assign({},b),{tenantId:a.tenantId}):b}async function I(a,b,c,d,e={}){return J(a,e,async()=>{let e={},f={};d&&("GET"===b?f=d:e={body:JSON.stringify(d)});let g=(0,n.querystring)(Object.assign({key:a.config.apiKey},f)).slice(1),h=await a._getAdditionalHeaders();h["Content-Type"]="application/json",a.languageCode&&(h["X-Firebase-Locale"]=a.languageCode);let i=Object.assign({method:b,headers:h},e);return(0,n.isCloudflareWorker)()||(i.referrerPolicy="no-referrer"),a.emulatorConfig&&(0,n.isCloudWorkstation)(a.emulatorConfig.host)&&(i.credentials="include"),D.fetch()(await L(a,a.config.apiHost,c,g),i)})}async function J(a,b,c){a._canInitEmulator=!1;let d=Object.assign(Object.assign({},E),b);try{let b=new M(a),e=await Promise.race([c(),b.promise]);b.clearNetworkTimeout();let f=await e.json();if("needConfirmation"in f)throw N(a,"account-exists-with-different-credential",f);if(e.ok&&!("errorMessage"in f))return f;{let[b,c]=(e.ok?f.errorMessage:f.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===b)throw N(a,"credential-already-in-use",f);if("EMAIL_EXISTS"===b)throw N(a,"email-already-in-use",f);if("USER_DISABLED"===b)throw N(a,"user-disabled",f);let g=d[b]||b.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw x(a,g,c);v(a,g)}}catch(b){if(b instanceof n.FirebaseError)throw b;v(a,"network-request-failed",{message:String(b)})}}async function K(a,b,c,d,e={}){let f=await I(a,b,c,d,e);return"mfaPendingCredential"in f&&v(a,"multi-factor-auth-required",{_serverResponse:f}),f}async function L(a,b,c,d){let e=`${b}${c}?${d}`,f=a.config.emulator?function(a,b){var c;c=a.emulator,c||B("Emulator should always be set here");let{url:d}=a.emulator;return b?`${d}${b.startsWith("/")?b.slice(1):b}`:d}(a.config,e):`${a.config.apiScheme}://${e}`;return F.includes(c)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())?a._getPersistence()._getFinalTarget(f).toString():f}class M{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(a){this.auth=a,this.timer=null,this.promise=new Promise((a,b)=>{this.timer=setTimeout(()=>b(w(this.auth,"network-request-failed")),G.get())})}}function N(a,b,c){let d={appName:a.name};c.email&&(d.email=c.email),c.phoneNumber&&(d.phoneNumber=c.phoneNumber);let e=w(a,b,d);return e.customData._tokenResponse=c,e}function O(a){return void 0!==a&&void 0!==a.enterprise}class P{constructor(a){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===a.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=a.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=a.recaptchaEnforcementState}getProviderEnforcementState(a){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let b of this.recaptchaEnforcementState)if(b.provider&&b.provider===a)switch(b.enforcementState){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}return null}isProviderEnabled(a){return"ENFORCE"===this.getProviderEnforcementState(a)||"AUDIT"===this.getProviderEnforcementState(a)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Q(a,b){return I(a,"GET","/v2/recaptchaConfig",H(a,b))}async function R(a,b){return I(a,"POST","/v1/accounts:delete",b)}async function S(a,b){return I(a,"POST","/v1/accounts:lookup",b)}function T(a){if(a)try{let b=new Date(Number(a));if(!isNaN(b.getTime()))return b.toUTCString()}catch(a){}}async function U(a,b=!1){let c=(0,n.getModularInstance)(a),d=await c.getIdToken(b),e=W(d);A(e&&e.exp&&e.auth_time&&e.iat,c.auth,"internal-error");let f="object"==typeof e.firebase?e.firebase:void 0,g=null==f?void 0:f.sign_in_provider;return{claims:e,token:d,authTime:T(V(e.auth_time)),issuedAtTime:T(V(e.iat)),expirationTime:T(V(e.exp)),signInProvider:g||null,signInSecondFactor:(null==f?void 0:f.sign_in_second_factor)||null}}function V(a){return 1e3*Number(a)}function W(a){let[b,c,d]=a.split(".");if(void 0===b||void 0===c||void 0===d)return u("JWT malformed, contained fewer than 3 sections"),null;try{let a=(0,n.base64Decode)(c);if(!a)return u("Failed to decode base64 JWT payload"),null;return JSON.parse(a)}catch(a){return u("Caught error parsing JWT payload as JSON",null==a?void 0:a.toString()),null}}function X(a){let b=W(a);return A(b,"internal-error"),A(void 0!==b.exp,"internal-error"),A(void 0!==b.iat,"internal-error"),Number(b.exp)-Number(b.iat)}async function Y(a,b,c=!1){if(c)return b;try{return await b}catch(b){throw b instanceof n.FirebaseError&&function({code:a}){return"auth/user-disabled"===a||"auth/user-token-expired"===a}(b)&&a.auth.currentUser===a&&await a.auth.signOut(),b}}class Z{constructor(a){this.user=a,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(a){var b;if(!a)return this.errorBackoff=3e4,Math.max(0,(null!=(b=this.user.stsTokenManager.expirationTime)?b:0)-Date.now()-3e5);{let a=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),a}}schedule(a=!1){if(!this.isRunning)return;let b=this.getInterval(a);this.timerId=setTimeout(async()=>{await this.iteration()},b)}async iteration(){try{await this.user.getIdToken(!0)}catch(a){(null==a?void 0:a.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ${constructor(a,b){this.createdAt=a,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=T(this.lastLoginAt),this.creationTime=T(this.createdAt)}_copy(a){this.createdAt=a.createdAt,this.lastLoginAt=a.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _(a){var b,c,d;let e=a.auth,f=await a.getIdToken(),g=await Y(a,S(e,{idToken:f}));A(null==g?void 0:g.users.length,e,"internal-error");let h=g.users[0];a._notifyReloadListener(h);let i=(null==(b=h.providerUserInfo)?void 0:b.length)?ab(h.providerUserInfo):[],j=(c=a.providerData,d=i,[...c.filter(a=>!d.some(b=>b.providerId===a.providerId)),...d]),k=a.isAnonymous,l=!(a.email&&h.passwordHash)&&!(null==j?void 0:j.length);Object.assign(a,{uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:j,metadata:new $(h.createdAt,h.lastLoginAt),isAnonymous:!!k&&l})}async function aa(a){let b=(0,n.getModularInstance)(a);await _(b),await b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)}function ab(a){return a.map(a=>{var{providerId:b}=a,c=(0,o.__rest)(a,["providerId"]);return{providerId:b,uid:c.rawId||"",displayName:c.displayName||null,email:c.email||null,phoneNumber:c.phoneNumber||null,photoURL:c.photoUrl||null}})}async function ac(a,b){let c=await J(a,{},async()=>{let c=(0,n.querystring)({grant_type:"refresh_token",refresh_token:b}).slice(1),{tokenApiHost:d,apiKey:e}=a.config,f=await L(a,d,"/v1/token",`key=${e}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";let h={method:"POST",headers:g,body:c};return a.emulatorConfig&&(0,n.isCloudWorkstation)(a.emulatorConfig.host)&&(h.credentials="include"),D.fetch()(f,h)});return{accessToken:c.access_token,expiresIn:c.expires_in,refreshToken:c.refresh_token}}async function ad(a,b){return I(a,"POST","/v2/accounts:revokeToken",H(a,b))}class ae{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(a){A(a.idToken,"internal-error"),A(void 0!==a.idToken,"internal-error"),A(void 0!==a.refreshToken,"internal-error");let b="expiresIn"in a&&void 0!==a.expiresIn?Number(a.expiresIn):X(a.idToken);this.updateTokensAndExpiration(a.idToken,a.refreshToken,b)}updateFromIdToken(a){A(0!==a.length,"internal-error");let b=X(a);this.updateTokensAndExpiration(a,null,b)}async getToken(a,b=!1){return b||!this.accessToken||this.isExpired?(A(this.refreshToken,a,"user-token-expired"),this.refreshToken)?(await this.refresh(a,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(a,b){let{accessToken:c,refreshToken:d,expiresIn:e}=await ac(a,b);this.updateTokensAndExpiration(c,d,Number(e))}updateTokensAndExpiration(a,b,c){this.refreshToken=b||null,this.accessToken=a||null,this.expirationTime=Date.now()+1e3*c}static fromJSON(a,b){let{refreshToken:c,accessToken:d,expirationTime:e}=b,f=new ae;return c&&(A("string"==typeof c,"internal-error",{appName:a}),f.refreshToken=c),d&&(A("string"==typeof d,"internal-error",{appName:a}),f.accessToken=d),e&&(A("number"==typeof e,"internal-error",{appName:a}),f.expirationTime=e),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(a){this.accessToken=a.accessToken,this.refreshToken=a.refreshToken,this.expirationTime=a.expirationTime}_clone(){return Object.assign(new ae,this.toJSON())}_performRefresh(){return B("not implemented")}}function af(a,b){A("string"==typeof a||void 0===a,"internal-error",{appName:b})}class ag{constructor(a){var{uid:b,auth:c,stsTokenManager:d}=a,e=(0,o.__rest)(a,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Z(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=c,this.stsTokenManager=d,this.accessToken=d.accessToken,this.displayName=e.displayName||null,this.email=e.email||null,this.emailVerified=e.emailVerified||!1,this.phoneNumber=e.phoneNumber||null,this.photoURL=e.photoURL||null,this.isAnonymous=e.isAnonymous||!1,this.tenantId=e.tenantId||null,this.providerData=e.providerData?[...e.providerData]:[],this.metadata=new $(e.createdAt||void 0,e.lastLoginAt||void 0)}async getIdToken(a){let b=await Y(this,this.stsTokenManager.getToken(this.auth,a));return A(b,this.auth,"internal-error"),this.accessToken!==b&&(this.accessToken=b,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),b}getIdTokenResult(a){return U(this,a)}reload(){return aa(this)}_assign(a){this!==a&&(A(this.uid===a.uid,this.auth,"internal-error"),this.displayName=a.displayName,this.photoURL=a.photoURL,this.email=a.email,this.emailVerified=a.emailVerified,this.phoneNumber=a.phoneNumber,this.isAnonymous=a.isAnonymous,this.tenantId=a.tenantId,this.providerData=a.providerData.map(a=>Object.assign({},a)),this.metadata._copy(a.metadata),this.stsTokenManager._assign(a.stsTokenManager))}_clone(a){let b=new ag(Object.assign(Object.assign({},this),{auth:a,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(a){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=a,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(a){this.reloadListener?this.reloadListener(a):this.reloadUserInfo=a}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(a,b=!1){let c=!1;a.idToken&&a.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(a),c=!0),b&&await _(this),await this.auth._persistUserIfCurrent(this),c&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,k._isFirebaseServerApp)(this.auth.app))return Promise.reject(y(this.auth));let a=await this.getIdToken();return await Y(this,R(this.auth,{idToken:a})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(a=>Object.assign({},a)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(a,b){var c,d,e,f,g,h,i,j;let k=null!=(c=b.displayName)?c:void 0,l=null!=(d=b.email)?d:void 0,m=null!=(e=b.phoneNumber)?e:void 0,n=null!=(f=b.photoURL)?f:void 0,o=null!=(g=b.tenantId)?g:void 0,p=null!=(h=b._redirectEventId)?h:void 0,q=null!=(i=b.createdAt)?i:void 0,r=null!=(j=b.lastLoginAt)?j:void 0,{uid:s,emailVerified:t,isAnonymous:u,providerData:v,stsTokenManager:w}=b;A(s&&w,a,"internal-error");let x=ae.fromJSON(this.name,w);A("string"==typeof s,a,"internal-error"),af(k,a.name),af(l,a.name),A("boolean"==typeof t,a,"internal-error"),A("boolean"==typeof u,a,"internal-error"),af(m,a.name),af(n,a.name),af(o,a.name),af(p,a.name),af(q,a.name),af(r,a.name);let y=new ag({uid:s,auth:a,email:l,emailVerified:t,displayName:k,isAnonymous:u,photoURL:n,phoneNumber:m,tenantId:o,stsTokenManager:x,createdAt:q,lastLoginAt:r});return v&&Array.isArray(v)&&(y.providerData=v.map(a=>Object.assign({},a))),p&&(y._redirectEventId=p),y}static async _fromIdTokenResponse(a,b,c=!1){let d=new ae;d.updateFromServerResponse(b);let e=new ag({uid:b.localId,auth:a,stsTokenManager:d,isAnonymous:c});return await _(e),e}static async _fromGetAccountInfoResponse(a,b,c){let d=b.users[0];A(void 0!==d.localId,"internal-error");let e=void 0!==d.providerUserInfo?ab(d.providerUserInfo):[],f=!(d.email&&d.passwordHash)&&!(null==e?void 0:e.length),g=new ae;g.updateFromIdToken(c);let h=new ag({uid:d.localId,auth:a,stsTokenManager:g,isAnonymous:f});return Object.assign(h,{uid:d.localId,displayName:d.displayName||null,photoURL:d.photoUrl||null,email:d.email||null,emailVerified:d.emailVerified||!1,phoneNumber:d.phoneNumber||null,tenantId:d.tenantId||null,providerData:e,metadata:new $(d.createdAt,d.lastLoginAt),isAnonymous:!(d.email&&d.passwordHash)&&!(null==e?void 0:e.length)}),h}}let ah=new Map;function ai(a){a instanceof Function||B("Expected a class definition");let b=ah.get(a);return b?(b instanceof a||B("Instance stored in cache mismatched with class"),b):(b=new a,ah.set(a,b),b)}class aj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(a,b){this.storage[a]=b}async _get(a){let b=this.storage[a];return void 0===b?null:b}async _remove(a){delete this.storage[a]}_addListener(a,b){}_removeListener(a,b){}}function ak(a,b,c){return`firebase:${a}:${b}:${c}`}aj.type="NONE";class al{constructor(a,b,c){this.persistence=a,this.auth=b,this.userKey=c;const{config:d,name:e}=this.auth;this.fullUserKey=ak(this.userKey,d.apiKey,e),this.fullPersistenceKey=ak("persistence",d.apiKey,e),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(a){return this.persistence._set(this.fullUserKey,a.toJSON())}async getCurrentUser(){let a=await this.persistence._get(this.fullUserKey);if(!a)return null;if("string"==typeof a){let b=await S(this.auth,{idToken:a}).catch(()=>void 0);return b?ag._fromGetAccountInfoResponse(this.auth,b,a):null}return ag._fromJSON(this.auth,a)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(a){if(this.persistence===a)return;let b=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=a,b)return this.setCurrentUser(b)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(a,b,c="authUser"){if(!b.length)return new al(ai(aj),a,c);let d=(await Promise.all(b.map(async a=>{if(await a._isAvailable())return a}))).filter(a=>a),e=d[0]||ai(aj),f=ak(c,a.config.apiKey,a.name),g=null;for(let c of b)try{let b=await c._get(f);if(b){let d;if("string"==typeof b){let c=await S(a,{idToken:b}).catch(()=>void 0);if(!c)break;d=await ag._fromGetAccountInfoResponse(a,c,b)}else d=ag._fromJSON(a,b);c!==e&&(g=d),e=c;break}}catch(a){}let h=d.filter(a=>a._shouldAllowMigration);return e._shouldAllowMigration&&h.length&&(e=h[0],g&&await e._set(f,g.toJSON()),await Promise.all(b.map(async a=>{if(a!==e)try{await a._remove(f)}catch(a){}}))),new al(e,a,c)}}function am(a){let b=a.toLowerCase();if(b.includes("opera/")||b.includes("opr/")||b.includes("opios/"))return"Opera";{if(function(a=(0,n.getUA)()){return/iemobile/i.test(a)}(b))return"IEMobile";if(b.includes("msie")||b.includes("trident/"))return"IE";if(b.includes("edge/"))return"Edge";if(function(a=(0,n.getUA)()){return/firefox\//i.test(a)}(b))return"Firefox";if(b.includes("silk/"))return"Silk";if(function(a=(0,n.getUA)()){return/blackberry/i.test(a)}(b))return"Blackberry";if(function(a=(0,n.getUA)()){return/webos/i.test(a)}(b))return"Webos";if(function(a=(0,n.getUA)()){let b=a.toLowerCase();return b.includes("safari/")&&!b.includes("chrome/")&&!b.includes("crios/")&&!b.includes("android")}(b))return"Safari";if((b.includes("chrome/")||function(a=(0,n.getUA)()){return/crios\//i.test(a)}(b))&&!b.includes("edge/"))return"Chrome";if(function(a=(0,n.getUA)()){return/android/i.test(a)}(b))return"Android";let c=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==c?void 0:c.length)===2)return c[1]}return"Other"}function an(a,b=[]){let c;switch(a){case"Browser":c=am((0,n.getUA)());break;case"Worker":c=`${am((0,n.getUA)())}-${a}`;break;default:c=a}let d=b.length?b.join(","):"FirebaseCore-web";return`${c}/JsCore/${k.SDK_VERSION}/${d}`}class ao{constructor(a){this.auth=a,this.queue=[]}pushCallback(a,b){let c=b=>new Promise((c,d)=>{try{let d=a(b);c(d)}catch(a){d(a)}});c.onAbort=b,this.queue.push(c);let d=this.queue.length-1;return()=>{this.queue[d]=()=>Promise.resolve()}}async runMiddleware(a){if(this.auth.currentUser===a)return;let b=[];try{for(let c of this.queue)await c(a),c.onAbort&&b.push(c.onAbort)}catch(a){for(let a of(b.reverse(),b))try{a()}catch(a){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==a?void 0:a.message})}}}async function ap(a,b={}){return I(a,"GET","/v2/passwordPolicy",H(a,b))}class aq{constructor(a){var b,c,d,e;const f=a.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!=(b=f.minPasswordLength)?b:6,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),void 0!==f.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),void 0!==f.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),void 0!==f.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),void 0!==f.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=a.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!=(d=null==(c=a.allowedNonAlphanumericCharacters)?void 0:c.join(""))?d:"",this.forceUpgradeOnSignin=null!=(e=a.forceUpgradeOnSignin)&&e,this.schemaVersion=a.schemaVersion}validatePassword(a){var b,c,d,e,f,g;let h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(a,h),this.validatePasswordCharacterOptions(a,h),h.isValid&&(h.isValid=null==(b=h.meetsMinPasswordLength)||b),h.isValid&&(h.isValid=null==(c=h.meetsMaxPasswordLength)||c),h.isValid&&(h.isValid=null==(d=h.containsLowercaseLetter)||d),h.isValid&&(h.isValid=null==(e=h.containsUppercaseLetter)||e),h.isValid&&(h.isValid=null==(f=h.containsNumericCharacter)||f),h.isValid&&(h.isValid=null==(g=h.containsNonAlphanumericCharacter)||g),h}validatePasswordLengthOptions(a,b){let c=this.customStrengthOptions.minPasswordLength,d=this.customStrengthOptions.maxPasswordLength;c&&(b.meetsMinPasswordLength=a.length>=c),d&&(b.meetsMaxPasswordLength=a.length<=d)}validatePasswordCharacterOptions(a,b){let c;this.updatePasswordCharacterOptionsStatuses(b,!1,!1,!1,!1);for(let d=0;d<a.length;d++)c=a.charAt(d),this.updatePasswordCharacterOptionsStatuses(b,c>="a"&&c<="z",c>="A"&&c<="Z",c>="0"&&c<="9",this.allowedNonAlphanumericCharacters.includes(c))}updatePasswordCharacterOptionsStatuses(a,b,c,d,e){this.customStrengthOptions.containsLowercaseLetter&&(a.containsLowercaseLetter||(a.containsLowercaseLetter=b)),this.customStrengthOptions.containsUppercaseLetter&&(a.containsUppercaseLetter||(a.containsUppercaseLetter=c)),this.customStrengthOptions.containsNumericCharacter&&(a.containsNumericCharacter||(a.containsNumericCharacter=d)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(a.containsNonAlphanumericCharacter||(a.containsNonAlphanumericCharacter=e))}}class ar{constructor(a,b,c,d){this.app=a,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=c,this.config=d,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new at(this),this.idTokenSubscription=new at(this),this.beforeStateQueue=new ao(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=a.name,this.clientVersion=d.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(a,b){return b&&(this._popupRedirectResolver=ai(b)),this._initializationPromise=this.queue(async()=>{var c,d,e;if(!this._deleted){if(this.persistenceManager=await al.create(this,a),null==(c=this._resolvePersistenceManagerAvailable)||c.call(this),!this._deleted){if(null==(d=this._popupRedirectResolver)?void 0:d._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(b),this.lastNotifiedUid=(null==(e=this.currentUser)?void 0:e.uid)||null,this._deleted||(this._isInitialized=!0)}}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let a=await this.assertedPersistence.getCurrentUser();if(this.currentUser||a){if(this.currentUser&&a&&this.currentUser.uid===a.uid){this._currentUser._assign(a),await this.currentUser.getIdToken();return}await this._updateCurrentUser(a,!0)}}async initializeCurrentUserFromIdToken(a){try{let b=await S(this,{idToken:a}),c=await ag._fromGetAccountInfoResponse(this,b,a);await this.directlySetCurrentUser(c)}catch(a){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",a),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(a){var b;if((0,k._isFirebaseServerApp)(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(b=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(b,b))}):this.directlySetCurrentUser(null)}let c=await this.assertedPersistence.getCurrentUser(),d=c,e=!1;if(a&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let c=null==(b=this.redirectUser)?void 0:b._redirectEventId,f=null==d?void 0:d._redirectEventId,g=await this.tryRedirectSignIn(a);(!c||c===f)&&(null==g?void 0:g.user)&&(d=g.user,e=!0)}if(!d)return this.directlySetCurrentUser(null);if(!d._redirectEventId){if(e)try{await this.beforeStateQueue.runMiddleware(d)}catch(a){d=c,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return d?this.reloadAndSetCurrentUserOrClear(d):this.directlySetCurrentUser(null)}return(A(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===d._redirectEventId)?this.directlySetCurrentUser(d):this.reloadAndSetCurrentUserOrClear(d)}async tryRedirectSignIn(a){let b=null;try{b=await this._popupRedirectResolver._completeRedirectFn(this,a,!0)}catch(a){await this._setRedirectUser(null)}return b}async reloadAndSetCurrentUserOrClear(a){try{await _(a)}catch(a){if((null==a?void 0:a.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(a)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let a=navigator;return a.languages&&a.languages[0]||a.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(a){if((0,k._isFirebaseServerApp)(this.app))return Promise.reject(y(this));let b=a?(0,n.getModularInstance)(a):null;return b&&A(b.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(b&&b._clone(this))}async _updateCurrentUser(a,b=!1){if(!this._deleted)return a&&A(this.tenantId===a.tenantId,this,"tenant-id-mismatch"),b||await this.beforeStateQueue.runMiddleware(a),this.queue(async()=>{await this.directlySetCurrentUser(a),this.notifyAuthListeners()})}async signOut(){return(0,k._isFirebaseServerApp)(this.app)?Promise.reject(y(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(a){return(0,k._isFirebaseServerApp)(this.app)?Promise.reject(y(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(a))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(a){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let b=this._getPasswordPolicyInternal();return b.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):b.validatePassword(a)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let a=new aq(await ap(this));null===this.tenantId?this._projectPasswordPolicy=a:this._tenantPasswordPolicies[this.tenantId]=a}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(a){this._errorFactory=new n.ErrorFactory("auth","Firebase",a())}onAuthStateChanged(a,b,c){return this.registerStateListener(this.authStateSubscription,a,b,c)}beforeAuthStateChanged(a,b){return this.beforeStateQueue.pushCallback(a,b)}onIdTokenChanged(a,b,c){return this.registerStateListener(this.idTokenSubscription,a,b,c)}authStateReady(){return new Promise((a,b)=>{if(this.currentUser)a();else{let c=this.onAuthStateChanged(()=>{c(),a()},b)}})}async revokeAccessToken(a){if(this.currentUser){let b={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:a,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(b.tenantId=this.tenantId),await ad(this,b)}}toJSON(){var a;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null==(a=this._currentUser)?void 0:a.toJSON()}}async _setRedirectUser(a,b){let c=await this.getOrInitRedirectPersistenceManager(b);return null===a?c.removeCurrentUser():c.setCurrentUser(a)}async getOrInitRedirectPersistenceManager(a){if(!this.redirectPersistenceManager){let b=a&&ai(a)||this._popupRedirectResolver;A(b,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[ai(b._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(a){var b,c;return(this._isInitialized&&await this.queue(async()=>{}),(null==(b=this._currentUser)?void 0:b._redirectEventId)===a)?this._currentUser:(null==(c=this.redirectUser)?void 0:c._redirectEventId)===a?this.redirectUser:null}async _persistUserIfCurrent(a){if(a===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(a))}_notifyListenersIfCurrent(a){a===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var a,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let c=null!=(b=null==(a=this.currentUser)?void 0:a.uid)?b:null;this.lastNotifiedUid!==c&&(this.lastNotifiedUid=c,this.authStateSubscription.next(this.currentUser))}registerStateListener(a,b,c,d){if(this._deleted)return()=>{};let e="function"==typeof b?b:b.next.bind(b),f=!1,g=this._isInitialized?Promise.resolve():this._initializationPromise;if(A(g,this,"internal-error"),g.then(()=>{f||e(this.currentUser)}),"function"==typeof b){let e=a.addObserver(b,c,d);return()=>{f=!0,e()}}{let c=a.addObserver(b);return()=>{f=!0,c()}}}async directlySetCurrentUser(a){this.currentUser&&this.currentUser!==a&&this._currentUser._stopProactiveRefresh(),a&&this.isProactiveRefreshEnabled&&a._startProactiveRefresh(),this.currentUser=a,a?await this.assertedPersistence.setCurrentUser(a):await this.assertedPersistence.removeCurrentUser()}queue(a){return this.operations=this.operations.then(a,a),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(a){!a||this.frameworks.includes(a)||(this.frameworks.push(a),this.frameworks.sort(),this.clientVersion=an(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;let b={"X-Client-Version":this.clientVersion};this.app.options.appId&&(b["X-Firebase-gmpid"]=this.app.options.appId);let c=await (null==(a=this.heartbeatServiceProvider.getImmediate({optional:!0}))?void 0:a.getHeartbeatsHeader());c&&(b["X-Firebase-Client"]=c);let d=await this._getAppCheckToken();return d&&(b["X-Firebase-AppCheck"]=d),b}async _getAppCheckToken(){var a;if((0,k._isFirebaseServerApp)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let b=await (null==(a=this.appCheckServiceProvider.getImmediate({optional:!0}))?void 0:a.getToken());return(null==b?void 0:b.error)&&function(a,...b){t.logLevel<=q.LogLevel.WARN&&t.warn(`Auth (${k.SDK_VERSION}): ${a}`,...b)}(`Error while retrieving App Check token: ${b.error}`),null==b?void 0:b.token}}function as(a){return(0,n.getModularInstance)(a)}class at{constructor(a){this.auth=a,this.observer=null,this.addObserver=(0,n.createSubscribe)(a=>this.observer=a)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class au{constructor(){this.enterprise=new av}ready(a){a()}execute(a,b){return Promise.resolve("token")}render(a,b){return""}}class av{ready(a){a()}execute(a,b){return Promise.resolve("token")}render(a,b){return""}}let aw="NO_RECAPTCHA";class ax{constructor(a){this.type="recaptcha-enterprise",this.auth=as(a)}async verify(a="verify",b=!1){async function c(a){if(!b){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(b,c)=>{Q(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0===d.recaptchaKey)c(Error("recaptcha Enterprise site key undefined"));else{let c=new P(d);return null==a.tenantId?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,b(c.siteKey)}}).catch(a=>{c(a)})})}return this.auth.settings.appVerificationDisabledForTesting?new au().execute("siteKey",{action:"verify"}):new Promise((d,e)=>{c(this.auth).then(c=>{let f;if(!(!b&&O(window.grecaptcha)))return void e(Error("RecaptchaVerifier is only supported in browser"));O(f=window.grecaptcha)?f.enterprise.ready(()=>{f.enterprise.execute(c,{action:a}).then(a=>{d(a)}).catch(()=>{d(aw)})}):e(Error("No reCAPTCHA enterprise script loaded."))}).catch(a=>{e(a)})})}}async function ay(a,b,c,d=!1,e=!1){let f,g=new ax(a);if(e)f=aw;else try{f=await g.verify(c)}catch(a){f=await g.verify(c,!0)}let h=Object.assign({},b);if("mfaSmsEnrollment"===c||"mfaSmsSignIn"===c){if("phoneEnrollmentInfo"in h){let a=h.phoneEnrollmentInfo.phoneNumber,b=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:b,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){let a=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:a,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return d?Object.assign(h,{captchaResp:f}):Object.assign(h,{captchaResponse:f}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function az(a,b,c,d,e){var f,g;if("EMAIL_PASSWORD_PROVIDER"===e)if(null==(f=a._getRecaptchaConfig())||!f.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return d(a,b).catch(async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log(`${c} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let e=await ay(a,b,c,"getOobCode"===c);return d(a,e)}});else{let e=await ay(a,b,c,"getOobCode"===c);return d(a,e)}if("PHONE_PROVIDER"!==e)return Promise.reject(e+" provider is not supported.");if(null==(g=a._getRecaptchaConfig())?void 0:g.isProviderEnabled("PHONE_PROVIDER")){let e=await ay(a,b,c);return d(a,e).catch(async e=>{var f;if((null==(f=a._getRecaptchaConfig())?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&("auth/missing-recaptcha-token"===e.code||"auth/invalid-app-credential"===e.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${c} flow.`);let e=await ay(a,b,c,!1,!0);return d(a,e)}return Promise.reject(e)})}{let e=await ay(a,b,c,!1,!0);return d(a,e)}}function aA(a){let b=a.indexOf(":");return b<0?"":a.substr(0,b+1)}function aB(a){if(!a)return null;let b=Number(a);return isNaN(b)?null:b}class aC{constructor(a,b){this.providerId=a,this.signInMethod=b}toJSON(){return B("not implemented")}_getIdTokenResponse(a){return B("not implemented")}_linkToIdToken(a,b){return B("not implemented")}_getReauthenticationResolver(a){return B("not implemented")}}async function aD(a,b){return I(a,"POST","/v1/accounts:signUp",b)}async function aE(a,b){return K(a,"POST","/v1/accounts:signInWithPassword",H(a,b))}async function aF(a,b){return K(a,"POST","/v1/accounts:signInWithEmailLink",H(a,b))}async function aG(a,b){return K(a,"POST","/v1/accounts:signInWithEmailLink",H(a,b))}class aH extends aC{constructor(a,b,c,d=null){super("password",c),this._email=a,this._password=b,this._tenantId=d}static _fromEmailAndPassword(a,b){return new aH(a,b,"password")}static _fromEmailAndCode(a,b,c=null){return new aH(a,b,"emailLink",c)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(a){let b="string"==typeof a?JSON.parse(a):a;if((null==b?void 0:b.email)&&(null==b?void 0:b.password)){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);else if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}async _getIdTokenResponse(a){switch(this.signInMethod){case"password":return az(a,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",aE,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return aF(a,{email:this._email,oobCode:this._password});default:v(a,"internal-error")}}async _linkToIdToken(a,b){switch(this.signInMethod){case"password":return az(a,{idToken:b,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aD,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return aG(a,{idToken:b,email:this._email,oobCode:this._password});default:v(a,"internal-error")}}_getReauthenticationResolver(a){return this._getIdTokenResponse(a)}}async function aI(a,b){return K(a,"POST","/v1/accounts:signInWithIdp",H(a,b))}class aJ extends aC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(a){let b=new aJ(a.providerId,a.signInMethod);return a.idToken||a.accessToken?(a.idToken&&(b.idToken=a.idToken),a.accessToken&&(b.accessToken=a.accessToken),a.nonce&&!a.pendingToken&&(b.nonce=a.nonce),a.pendingToken&&(b.pendingToken=a.pendingToken)):a.oauthToken&&a.oauthTokenSecret?(b.accessToken=a.oauthToken,b.secret=a.oauthTokenSecret):v("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(a){let b="string"==typeof a?JSON.parse(a):a,{providerId:c,signInMethod:d}=b,e=(0,o.__rest)(b,["providerId","signInMethod"]);if(!c||!d)return null;let f=new aJ(c,d);return f.idToken=e.idToken||void 0,f.accessToken=e.accessToken||void 0,f.secret=e.secret,f.nonce=e.nonce,f.pendingToken=e.pendingToken||null,f}_getIdTokenResponse(a){return aI(a,this.buildRequest())}_linkToIdToken(a,b){let c=this.buildRequest();return c.idToken=b,aI(a,c)}_getReauthenticationResolver(a){let b=this.buildRequest();return b.autoCreate=!1,aI(a,b)}buildRequest(){let a={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)a.pendingToken=this.pendingToken;else{let b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),a.postBody=(0,n.querystring)(b)}return a}}class aK{constructor(a){var b,c,d,e,f,g;const h=(0,n.querystringDecode)((0,n.extractQuerystring)(a)),i=null!=(b=h.apiKey)?b:null,j=null!=(c=h.oobCode)?c:null,k=function(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!=(d=h.mode)?d:null);A(i&&j&&k,"argument-error"),this.apiKey=i,this.operation=k,this.code=j,this.continueUrl=null!=(e=h.continueUrl)?e:null,this.languageCode=null!=(f=h.lang)?f:null,this.tenantId=null!=(g=h.tenantId)?g:null}static parseLink(a){let b,c,d,e=(c=(b=(0,n.querystringDecode)((0,n.extractQuerystring)(a)).link)?(0,n.querystringDecode)((0,n.extractQuerystring)(b)).deep_link_id:null,((d=(0,n.querystringDecode)((0,n.extractQuerystring)(a)).deep_link_id)?(0,n.querystringDecode)((0,n.extractQuerystring)(d)).link:null)||d||c||b||a);try{return new aK(e)}catch(a){return null}}}class aL{constructor(){this.providerId=aL.PROVIDER_ID}static credential(a,b){return aH._fromEmailAndPassword(a,b)}static credentialWithLink(a,b){let c=aK.parseLink(b);return A(c,"argument-error"),aH._fromEmailAndCode(a,c.code,c.tenantId)}}aL.PROVIDER_ID="password",aL.EMAIL_PASSWORD_SIGN_IN_METHOD="password",aL.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class aM{constructor(a){this.providerId=a,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(a){this.defaultLanguageCode=a}setCustomParameters(a){return this.customParameters=a,this}getCustomParameters(){return this.customParameters}}class aN extends aM{constructor(){super(...arguments),this.scopes=[]}addScope(a){return this.scopes.includes(a)||this.scopes.push(a),this}getScopes(){return[...this.scopes]}}class aO extends aN{constructor(){super("facebook.com")}static credential(a){return aJ._fromParams({providerId:aO.PROVIDER_ID,signInMethod:aO.FACEBOOK_SIGN_IN_METHOD,accessToken:a})}static credentialFromResult(a){return aO.credentialFromTaggedObject(a)}static credentialFromError(a){return aO.credentialFromTaggedObject(a.customData||{})}static credentialFromTaggedObject({_tokenResponse:a}){if(!a||!("oauthAccessToken"in a)||!a.oauthAccessToken)return null;try{return aO.credential(a.oauthAccessToken)}catch(a){return null}}}aO.FACEBOOK_SIGN_IN_METHOD="facebook.com",aO.PROVIDER_ID="facebook.com";class aP extends aN{constructor(){super("google.com"),this.addScope("profile")}static credential(a,b){return aJ._fromParams({providerId:aP.PROVIDER_ID,signInMethod:aP.GOOGLE_SIGN_IN_METHOD,idToken:a,accessToken:b})}static credentialFromResult(a){return aP.credentialFromTaggedObject(a)}static credentialFromError(a){return aP.credentialFromTaggedObject(a.customData||{})}static credentialFromTaggedObject({_tokenResponse:a}){if(!a)return null;let{oauthIdToken:b,oauthAccessToken:c}=a;if(!b&&!c)return null;try{return aP.credential(b,c)}catch(a){return null}}}aP.GOOGLE_SIGN_IN_METHOD="google.com",aP.PROVIDER_ID="google.com";class aQ extends aN{constructor(){super("github.com")}static credential(a){return aJ._fromParams({providerId:aQ.PROVIDER_ID,signInMethod:aQ.GITHUB_SIGN_IN_METHOD,accessToken:a})}static credentialFromResult(a){return aQ.credentialFromTaggedObject(a)}static credentialFromError(a){return aQ.credentialFromTaggedObject(a.customData||{})}static credentialFromTaggedObject({_tokenResponse:a}){if(!a||!("oauthAccessToken"in a)||!a.oauthAccessToken)return null;try{return aQ.credential(a.oauthAccessToken)}catch(a){return null}}}aQ.GITHUB_SIGN_IN_METHOD="github.com",aQ.PROVIDER_ID="github.com";class aR extends aN{constructor(){super("twitter.com")}static credential(a,b){return aJ._fromParams({providerId:aR.PROVIDER_ID,signInMethod:aR.TWITTER_SIGN_IN_METHOD,oauthToken:a,oauthTokenSecret:b})}static credentialFromResult(a){return aR.credentialFromTaggedObject(a)}static credentialFromError(a){return aR.credentialFromTaggedObject(a.customData||{})}static credentialFromTaggedObject({_tokenResponse:a}){if(!a)return null;let{oauthAccessToken:b,oauthTokenSecret:c}=a;if(!b||!c)return null;try{return aR.credential(b,c)}catch(a){return null}}}aR.TWITTER_SIGN_IN_METHOD="twitter.com",aR.PROVIDER_ID="twitter.com";class aS extends n.FirebaseError{constructor(a,b,c,d){var e;super(b.code,b.message),this.operationType=c,this.user=d,Object.setPrototypeOf(this,aS.prototype),this.customData={appName:a.name,tenantId:null!=(e=a.tenantId)?e:void 0,_serverResponse:b.customData._serverResponse,operationType:c}}static _fromErrorAndOperation(a,b,c,d){return new aS(a,b,c,d)}}class aT{constructor(a,b){this.factorId=a,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(a,b){return"phoneInfo"in b?aU._fromServerResponse(a,b):"totpInfo"in b?aV._fromServerResponse(a,b):v(a,"internal-error")}}class aU extends aT{constructor(a){super("phone",a),this.phoneNumber=a.phoneInfo}static _fromServerResponse(a,b){return new aU(b)}}class aV extends aT{constructor(a){super("totp",a)}static _fromServerResponse(a,b){return new aV(b)}}new WeakMap;var aW="@firebase/auth",aX="1.10.7";class aY{constructor(a){this.auth=a,this.internalListeners=new Map}getUid(){var a;return this.assertAuthConfigured(),(null==(a=this.auth.currentUser)?void 0:a.uid)||null}async getToken(a){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(a)}:null}addAuthTokenListener(a){if(this.assertAuthConfigured(),this.internalListeners.has(a))return;let b=this.auth.onIdTokenChanged(b=>{a((null==b?void 0:b.stsTokenManager.accessToken)||null)});this.internalListeners.set(a,b),this.updateProactiveRefresh()}removeAuthTokenListener(a){this.assertAuthConfigured();let b=this.internalListeners.get(a);b&&(this.internalListeners.delete(a),b(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}D.initialize(fetch,Headers,Response),f="Node",(0,k._registerComponent)(new p.Component("auth",(a,{options:b})=>{let c,d,e=a.getProvider("app").getImmediate(),g=a.getProvider("heartbeat"),h=a.getProvider("app-check-internal"),{apiKey:i,authDomain:j}=e.options;A(i&&!i.includes(":"),"invalid-api-key",{appName:e.name});let k=new ar(e,g,h,{apiKey:i,authDomain:j,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:an(f)});return d=(Array.isArray(c=(null==b?void 0:b.persistence)||[])?c:[c]).map(ai),(null==b?void 0:b.errorMap)&&k._updateErrorMap(b.errorMap),k._initializeWithPersistence(d,null==b?void 0:b.popupRedirectResolver),k},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((a,b,c)=>{a.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new p.Component("auth-internal",a=>new aY(as(a.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(aW,aX,function(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(f)),(0,k.registerVersion)(aW,aX,"esm2017"),w("operation-not-supported-in-this-environment"),ar.prototype.setPersistence=async()=>{};a.s([],74312),a.i(74312),a.i(69387);var aZ=a.i(60574),a$=m;let a_="firebasestorage.googleapis.com";class a0 extends a$.FirebaseError{constructor(a,b,c=0){super(a1(a),`Firebase Storage: ${b} (${a1(a)})`),this.status_=c,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,a0.prototype)}get status(){return this.status_}set status(a){this.status_=a}_codeEquals(a){return a1(a)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(a){this.customData.serverResponse=a,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function a1(a){return"storage/"+a}function a2(a){return new a0(i.INVALID_ARGUMENT,a)}function a3(){return new a0(i.APP_DELETED,"The Firebase app was deleted.")}(g=i||(i={})).UNKNOWN="unknown",g.OBJECT_NOT_FOUND="object-not-found",g.BUCKET_NOT_FOUND="bucket-not-found",g.PROJECT_NOT_FOUND="project-not-found",g.QUOTA_EXCEEDED="quota-exceeded",g.UNAUTHENTICATED="unauthenticated",g.UNAUTHORIZED="unauthorized",g.UNAUTHORIZED_APP="unauthorized-app",g.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",g.INVALID_CHECKSUM="invalid-checksum",g.CANCELED="canceled",g.INVALID_EVENT_NAME="invalid-event-name",g.INVALID_URL="invalid-url",g.INVALID_DEFAULT_BUCKET="invalid-default-bucket",g.NO_DEFAULT_BUCKET="no-default-bucket",g.CANNOT_SLICE_BLOB="cannot-slice-blob",g.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",g.NO_DOWNLOAD_URL="no-download-url",g.INVALID_ARGUMENT="invalid-argument",g.INVALID_ARGUMENT_COUNT="invalid-argument-count",g.APP_DELETED="app-deleted",g.INVALID_ROOT_OPERATION="invalid-root-operation",g.INVALID_FORMAT="invalid-format",g.INTERNAL_ERROR="internal-error",g.UNSUPPORTED_ENVIRONMENT="unsupported-environment";class a4{constructor(a,b){this.bucket=a,this.path_=b}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){let a=encodeURIComponent;return"/b/"+a(this.bucket)+"/o/"+a(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(a,b){let c;try{c=a4.makeFromUrl(a,b)}catch(b){return new a4(a,"")}if(""===c.path)return c;throw new a0(i.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}static makeFromUrl(a,b){let c=null,d="([A-Za-z0-9.\\-_]+)",e=RegExp("^gs://"+d+"(/(.*))?$","i");function f(a){a.path_=decodeURIComponent(a.path)}let g=b.replace(/[.]/g,"\\."),h=RegExp(`^https?://${g}/v[A-Za-z0-9_]+/b/${d}/o(/([^?#]*).*)?$`,"i"),j=b===a_?"(?:storage.googleapis.com|storage.cloud.google.com)":b,k=[{regex:e,indices:{bucket:1,path:3},postModify:function(a){"/"===a.path.charAt(a.path.length-1)&&(a.path_=a.path_.slice(0,-1))}},{regex:h,indices:{bucket:1,path:3},postModify:f},{regex:RegExp(`^https?://${j}/${d}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:f}];for(let b=0;b<k.length;b++){let d=k[b],e=d.regex.exec(a);if(e){let a=e[d.indices.bucket],b=e[d.indices.path];b||(b=""),c=new a4(a,b),d.postModify(c);break}}if(null==c)throw new a0(i.INVALID_URL,"Invalid URL '"+a+"'.");return c}}class a5{constructor(a){this.promise_=Promise.reject(a)}getPromise(){return this.promise_}cancel(a=!1){}}function a6(a,b,c,d){if(d<b)throw a2(`Invalid value for '${a}'. Expected ${b} or greater.`);if(d>c)throw a2(`Invalid value for '${a}'. Expected ${c} or less.`)}(h=j||(j={}))[h.NO_ERROR=0]="NO_ERROR",h[h.NETWORK_ERROR=1]="NETWORK_ERROR",h[h.ABORT=2]="ABORT";class a7{constructor(a,b,c,d,e,f,g,h,i,j,k,l=!0,m=!1){this.url_=a,this.method_=b,this.headers_=c,this.body_=d,this.successCodes_=e,this.additionalRetryCodes_=f,this.callback_=g,this.errorCallback_=h,this.timeout_=i,this.progressCallback_=j,this.connectionFactory_=k,this.retry=l,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((a,b)=>{this.resolve_=a,this.reject_=b,this.start_()})}start_(){let a=(a,b)=>{if(b)return void a(!1,new a8(!1,null,!0));let c=this.connectionFactory_();this.pendingConnection_=c;let d=a=>{let b=a.loaded,c=a.lengthComputable?a.total:-1;null!==this.progressCallback_&&this.progressCallback_(b,c)};null!==this.progressCallback_&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{var b;let e,f,g;null!==this.progressCallback_&&c.removeUploadProgressListener(d),this.pendingConnection_=null;let h=c.getErrorCode()===j.NO_ERROR,i=c.getStatus();!h||(b=this.additionalRetryCodes_,e=i>=500&&i<600,f=-1!==[408,429].indexOf(i),g=-1!==b.indexOf(i),(e||f||g)&&this.retry)?a(!1,new a8(!1,null,c.getErrorCode()===j.ABORT)):a(!0,new a8(-1!==this.successCodes_.indexOf(i),c))})},b=(a,b)=>{let c=this.resolve_,d=this.reject_,e=b.connection;if(b.wasSuccessCode)try{let a=this.callback_(e,e.getResponse());void 0!==a?c(a):c()}catch(a){d(a)}else if(null!==e){let a=new a0(i.UNKNOWN,"An unknown error occurred, please check the error payload for server response.");a.serverResponse=e.getErrorText(),d(this.errorCallback_?this.errorCallback_(e,a):a)}else d(b.canceled?this.appDelete_?a3():new a0(i.CANCELED,"User canceled the upload/download."):new a0(i.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))};this.canceled_?b(!1,new a8(!1,null,!0)):this.backoffId_=function(a,b,c){let d=1,e=null,f=null,g=!1,h=0,i=!1;function j(...a){i||(i=!0,b.apply(null,a))}function k(b){e=setTimeout(()=>{e=null,a(m,2===h)},b)}function l(){f&&clearTimeout(f)}function m(a,...b){let c;if(i)return void l();if(a||2===h||g){l(),j.call(null,a,...b);return}d<64&&(d*=2),1===h?(h=2,c=0):c=(d+Math.random())*1e3,k(c)}let n=!1;function o(a){n||(n=!0,l(),!i&&(null!==e?(a||(h=2),clearTimeout(e),k(0)):a||(h=1)))}return k(0),f=setTimeout(()=>{g=!0,o(!0)},c),o}(a,b,this.timeout_)}getPromise(){return this.promise_}cancel(a){this.canceled_=!0,this.appDelete_=a||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class a8{constructor(a,b,c){this.wasSuccessCode=a,this.connection=b,this.canceled=!!c}}class a9{constructor(a,b){this._service=a,b instanceof a4?this._location=b:this._location=a4.makeFromUrl(b,a.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(a,b){return new a9(a,b)}get root(){let a=new a4(this._location.bucket,"");return this._newRef(this._service,a)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){var a;let b;return -1===(b=(a=this._location.path).lastIndexOf("/",a.length-2))?a:a.slice(b+1)}get storage(){return this._service}get parent(){let a=function(a){if(0===a.length)return null;let b=a.lastIndexOf("/");return -1===b?"":a.slice(0,b)}(this._location.path);if(null===a)return null;let b=new a4(this._location.bucket,a);return new a9(this._service,b)}_throwIfRoot(a){if(""===this._location.path)throw new a0(i.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}}function ba(a,b){let c=null==b?void 0:b.storageBucket;return null==c?null:a4.makeFromBucketSpec(c,a)}class bb{constructor(a,b,c,d,e,f=!1){this.app=a,this._authProvider=b,this._appCheckProvider=c,this._url=d,this._firebaseVersion=e,this._isUsingEmulator=f,this._bucket=null,this._host=a_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,null!=d?this._bucket=a4.makeFromBucketSpec(d,this._host):this._bucket=ba(this._host,this.app.options)}get host(){return this._host}set host(a){this._host=a,null!=this._url?this._bucket=a4.makeFromBucketSpec(this._url,a):this._bucket=ba(a,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(a){a6("time",0,1/0,a),this._maxUploadRetryTime=a}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(a){a6("time",0,1/0,a),this._maxOperationRetryTime=a}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let a=this._authProvider.getImmediate({optional:!0});if(a){let b=await a.getToken();if(null!==b)return b.accessToken}return null}async _getAppCheckToken(){if((0,k._isFirebaseServerApp)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let a=this._appCheckProvider.getImmediate({optional:!0});return a?(await a.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(a=>a.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(a){return new a9(this,a)}_makeRequest(a,b,c,d,e=!0){if(this._deleted)return new a5(a3());{let f=function(a,b,c,d,e,f,g=!0,h=!1){let i=function(a){let b=encodeURIComponent,c="?";for(let d in a)a.hasOwnProperty(d)&&(c=c+(b(d)+"=")+b(a[d])+"&");return c.slice(0,-1)}(a.urlParams),j=a.url+i,k=Object.assign({},a.headers);return b&&(k["X-Firebase-GMPID"]=b),null!==c&&c.length>0&&(k.Authorization="Firebase "+c),k["X-Firebase-Storage-Version"]="webjs/"+(null!=f?f:"AppManager"),null!==d&&(k["X-Firebase-AppCheck"]=d),new a7(j,a.method,k,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,e,g,h)}(a,this._appId,c,d,b,this._firebaseVersion,e,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(a,b){let[c,d]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(a,b,c,d).getPromise()}}let bc="storage";(0,k._registerComponent)(new p.Component(bc,function(a,{instanceIdentifier:b}){return new bb(a.getProvider("app").getImmediate(),a.getProvider("auth-internal"),a.getProvider("app-check-internal"),b,k.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,k.registerVersion)("@firebase/storage","0.13.13");var bd=a.i(77058);let be="@firebase/installations",bf="0.6.17",bg=`w:${bf}`,bh="FIS_v2",bi=new m.ErrorFactory("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function bj(a){return a instanceof m.FirebaseError&&a.code.includes("request-failed")}function bk({projectId:a}){return`https://firebaseinstallations.googleapis.com/v1/projects/${a}/installations`}function bl(a){return{token:a.token,requestStatus:2,expiresIn:Number(a.expiresIn.replace("s","000")),creationTime:Date.now()}}async function bm(a,b){let c=(await b.json()).error;return bi.create("request-failed",{requestName:a,serverCode:c.code,serverMessage:c.message,serverStatus:c.status})}function bn({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}async function bo(a){let b=await a();return b.status>=500&&b.status<600?a():b}async function bp({appConfig:a,heartbeatServiceProvider:b},{fid:c}){let d=bk(a),e=bn(a),f=b.getImmediate({optional:!0});if(f){let a=await f.getHeartbeatsHeader();a&&e.append("x-firebase-client",a)}let g={method:"POST",headers:e,body:JSON.stringify({fid:c,authVersion:bh,appId:a.appId,sdkVersion:bg})},h=await bo(()=>fetch(d,g));if(h.ok){let a=await h.json();return{fid:a.fid||c,registrationStatus:2,refreshToken:a.refreshToken,authToken:bl(a.authToken)}}throw await bm("Create Installation",h)}function bq(a){return new Promise(b=>{setTimeout(b,a)})}let br=/^[cdef][\w-]{21}$/;function bs(a){return`${a.appName}!${a.appId}`}let bt=new Map;function bu(a,b){var c,d;let e,f=bs(a);bv(f,b),c=f,d=b,(e=(!bw&&"BroadcastChannel"in self&&((bw=new BroadcastChannel("[Firebase] FID Change")).onmessage=a=>{bv(a.data.key,a.data.fid)}),bw))&&e.postMessage({key:c,fid:d}),0===bt.size&&bw&&(bw.close(),bw=null)}function bv(a,b){let c=bt.get(a);if(c)for(let a of c)a(b)}let bw=null,bx="firebase-installations-store",by=null;function bz(){return by||(by=(0,bd.openDB)("firebase-installations-database",1,{upgrade:(a,b)=>{0===b&&a.createObjectStore(bx)}})),by}async function bA(a,b){let c=bs(a),d=(await bz()).transaction(bx,"readwrite"),e=d.objectStore(bx),f=await e.get(c);return await e.put(b,c),await d.done,f&&f.fid===b.fid||bu(a,b.fid),b}async function bB(a){let b=bs(a),c=(await bz()).transaction(bx,"readwrite");await c.objectStore(bx).delete(b),await c.done}async function bC(a,b){let c=bs(a),d=(await bz()).transaction(bx,"readwrite"),e=d.objectStore(bx),f=await e.get(c),g=b(f);return void 0===g?await e.delete(c):await e.put(g,c),await d.done,g&&(!f||f.fid!==g.fid)&&bu(a,g.fid),g}async function bD(a){let b,c=await bC(a.appConfig,c=>{let d=function(a,b){if(0===b.registrationStatus){if(!navigator.onLine)return{installationEntry:b,registrationPromise:Promise.reject(bi.create("app-offline"))};let c={fid:b.fid,registrationStatus:1,registrationTime:Date.now()},d=bE(a,c);return{installationEntry:c,registrationPromise:d}}return 1===b.registrationStatus?{installationEntry:b,registrationPromise:bF(a)}:{installationEntry:b}}(a,bH(c||{fid:function(){try{var a;let b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;let c=(a=b,btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22));return br.test(c)?c:""}catch(a){return""}}(),registrationStatus:0}));return b=d.registrationPromise,d.installationEntry});return""===c.fid?{installationEntry:await b}:{installationEntry:c,registrationPromise:b}}async function bE(a,b){try{let c=await bp(a,b);return bA(a.appConfig,c)}catch(c){throw bj(c)&&409===c.customData.serverCode?await bB(a.appConfig):await bA(a.appConfig,{fid:b.fid,registrationStatus:0}),c}}async function bF(a){let b=await bG(a.appConfig);for(;1===b.registrationStatus;)await bq(100),b=await bG(a.appConfig);if(0===b.registrationStatus){let{installationEntry:b,registrationPromise:c}=await bD(a);return c||b}return b}function bG(a){return bC(a,a=>{if(!a)throw bi.create("installation-not-found");return bH(a)})}function bH(a){var b;return 1===(b=a).registrationStatus&&b.registrationTime+1e4<Date.now()?{fid:a.fid,registrationStatus:0}:a}async function bI({appConfig:a,heartbeatServiceProvider:b},c){let d=function(a,{fid:b}){return`${bk(a)}/${b}/authTokens:generate`}(a,c),e=function(a,{refreshToken:b}){var c;let d=bn(a);return d.append("Authorization",(c=b,`${bh} ${c}`)),d}(a,c),f=b.getImmediate({optional:!0});if(f){let a=await f.getHeartbeatsHeader();a&&e.append("x-firebase-client",a)}let g={method:"POST",headers:e,body:JSON.stringify({installation:{sdkVersion:bg,appId:a.appId}})},h=await bo(()=>fetch(d,g));if(h.ok)return bl(await h.json());throw await bm("Generate Auth Token",h)}async function bJ(a,b=!1){let c,d=await bC(a.appConfig,d=>{var e,f,g;let h;if(!bN(d))throw bi.create("not-registered");let i=d.authToken;if(!b&&2===(e=i).requestStatus&&(f=e,!((h=Date.now())<f.creationTime)&&!(f.creationTime+f.expiresIn<h+36e5)))return d;if(1===i.requestStatus)return c=bK(a,b),d;{let b;if(!navigator.onLine)throw bi.create("app-offline");let e=(g=d,b={requestStatus:1,requestTime:Date.now()},Object.assign(Object.assign({},g),{authToken:b}));return c=bM(a,e),e}});return c?await c:d.authToken}async function bK(a,b){let c=await bL(a.appConfig);for(;1===c.authToken.requestStatus;)await bq(100),c=await bL(a.appConfig);let d=c.authToken;return 0===d.requestStatus?bJ(a,b):d}function bL(a){return bC(a,a=>{var b;if(!bN(a))throw bi.create("not-registered");return 1===(b=a.authToken).requestStatus&&b.requestTime+1e4<Date.now()?Object.assign(Object.assign({},a),{authToken:{requestStatus:0}}):a})}async function bM(a,b){try{let c=await bI(a,b),d=Object.assign(Object.assign({},b),{authToken:c});return await bA(a.appConfig,d),c}catch(c){if(bj(c)&&(401===c.customData.serverCode||404===c.customData.serverCode))await bB(a.appConfig);else{let c=Object.assign(Object.assign({},b),{authToken:{requestStatus:0}});await bA(a.appConfig,c)}throw c}}function bN(a){return void 0!==a&&2===a.registrationStatus}async function bO(a){let{installationEntry:b,registrationPromise:c}=await bD(a);return c?c.catch(console.error):bJ(a).catch(console.error),b.fid}async function bP(a,b=!1){return await bQ(a),(await bJ(a,b)).token}async function bQ(a){let{registrationPromise:b}=await bD(a);b&&await b}function bR(a){return bi.create("missing-app-config-values",{valueName:a})}let bS="installations";(0,k._registerComponent)(new p.Component(bS,a=>{let b=a.getProvider("app").getImmediate(),c=function(a){if(!a||!a.options)throw bR("App Configuration");if(!a.name)throw bR("App Name");for(let b of["projectId","apiKey","appId"])if(!a.options[b])throw bR(b);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}(b),d=(0,k._getProvider)(b,"heartbeat");return{app:b,appConfig:c,heartbeatServiceProvider:d,_delete:()=>Promise.resolve()}},"PUBLIC")),(0,k._registerComponent)(new p.Component("installations-internal",a=>{let b=a.getProvider("app").getImmediate(),c=(0,k._getProvider)(b,bS).getImmediate();return{getId:()=>bO(c),getToken:a=>bP(c,a)}},"PRIVATE")),(0,k.registerVersion)(be,bf),(0,k.registerVersion)(be,bf,"esm2017");let bT="analytics",bU="https://www.googletagmanager.com/gtag/js",bV=new q.Logger("@firebase/analytics"),bW=new m.ErrorFactory("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function bX(a){if(!a.startsWith(bU)){let b=bW.create("invalid-gtag-resource",{gtagURL:a});return bV.warn(b.message),""}return a}function bY(a){return Promise.all(a.map(a=>a.catch(a=>a)))}async function bZ(a,b,c,d,e,f){let g=d[e];try{if(g)await b[g];else{let a=(await bY(c)).find(a=>a.measurementId===e);a&&await b[a.appId]}}catch(a){bV.error(a)}a("config",e,f)}async function b$(a,b,c,d,e){try{let f=[];if(e&&e.send_to){let a=e.send_to;Array.isArray(a)||(a=[a]);let d=await bY(c);for(let c of a){let a=d.find(a=>a.measurementId===c),e=a&&b[a.appId];if(e)f.push(e);else{f=[];break}}}0===f.length&&(f=Object.values(b)),await Promise.all(f),a("event",d,e||{})}catch(a){bV.error(a)}}let b_=new class{constructor(a={},b=1e3){this.throttleMetadata=a,this.intervalMillis=b}getThrottleMetadata(a){return this.throttleMetadata[a]}setThrottleMetadata(a,b){this.throttleMetadata[a]=b}deleteThrottleMetadata(a){delete this.throttleMetadata[a]}};async function b0(a){var b;let{appId:c,apiKey:d}=a,e={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":d})},f="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",c),g=await fetch(f,e);if(200!==g.status&&304!==g.status){let a="";try{let c=await g.json();(null==(b=c.error)?void 0:b.message)&&(a=c.error.message)}catch(a){}throw bW.create("config-fetch-failed",{httpStatus:g.status,responseMessage:a})}return g.json()}async function b1(a,b=b_,c){let{appId:d,apiKey:e,measurementId:f}=a.options;if(!d)throw bW.create("no-app-id");if(!e){if(f)return{measurementId:f,appId:d};throw bW.create("no-api-key")}let g=b.getThrottleMetadata(d)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new b3;return setTimeout(async()=>{h.abort()},void 0!==c?c:6e4),b2({appId:d,apiKey:e,measurementId:f},g,h,b)}async function b2(a,{throttleEndTimeMillis:b,backoffCount:c},d,e=b_){var f,g,h;let{appId:i,measurementId:j}=a;try{await (g=d,h=b,new Promise((a,b)=>{let c=setTimeout(a,Math.max(h-Date.now(),0));g.addEventListener(()=>{clearTimeout(c),b(bW.create("fetch-throttle",{throttleEndTimeMillis:h}))})}))}catch(a){if(j)return bV.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${j} provided in the "measurementId" field in the local Firebase config. [${null==a?void 0:a.message}]`),{appId:i,measurementId:j};throw a}try{let b=await b0(a);return e.deleteThrottleMetadata(i),b}catch(h){if(!function(a){if(!(a instanceof m.FirebaseError)||!a.customData)return!1;let b=Number(a.customData.httpStatus);return 429===b||500===b||503===b||504===b}(h)){if(e.deleteThrottleMetadata(i),j)return bV.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${j} provided in the "measurementId" field in the local Firebase config. [${null==h?void 0:h.message}]`),{appId:i,measurementId:j};throw h}let b=503===Number(null==(f=null==h?void 0:h.customData)?void 0:f.httpStatus)?(0,m.calculateBackoffMillis)(c,e.intervalMillis,30):(0,m.calculateBackoffMillis)(c,e.intervalMillis),g={throttleEndTimeMillis:Date.now()+b,backoffCount:c+1};return e.setThrottleMetadata(i,g),bV.debug(`Calling attemptFetch again in ${b} millis`),b2(a,g,d,e)}}class b3{constructor(){this.listeners=[]}addEventListener(a){this.listeners.push(a)}abort(){this.listeners.forEach(a=>a())}}async function b4(a,b,c,d,e){if(e&&e.global)return void a("event",c,d);{let e=await b;a("event",c,Object.assign(Object.assign({},d),{send_to:e}))}}async function b5(){if(!(0,m.isIndexedDBAvailable)())return bV.warn(bW.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await (0,m.validateIndexedDBOpenable)()}catch(a){return bV.warn(bW.create("indexeddb-unavailable",{errorInfo:null==a?void 0:a.toString()}).message),!1}return!0}async function b6(a,d,e,f,g,h,i){var j,k,l;let m,n,o,p,q=b1(a);q.then(b=>{e[b.measurementId]=b.appId,a.options.measurementId&&b.measurementId!==a.options.measurementId&&bV.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(a=>bV.error(a)),d.push(q);let r=b5().then(a=>a?f.getId():void 0),[s,t]=await Promise.all([q,r]);!function(a){for(let b of Object.values(window.document.getElementsByTagName("script")))if(b.src&&b.src.includes(bU)&&b.src.includes(a))return b;return null}(h)&&(k=s.measurementId,l={createScriptURL:bX},window.trustedTypes&&(m=window.trustedTypes.createPolicy("firebase-js-sdk-policy",l)),n=m,o=document.createElement("script"),p=`${bU}?l=${h}&id=${k}`,o.src=n?null==n?void 0:n.createScriptURL(p):p,o.async=!0,document.head.appendChild(o)),c&&(g("consent","default",c),c=void 0),g("js",new Date);let u=null!=(j=null==i?void 0:i.config)?j:{};return u.origin="firebase",u.update=!0,null!=t&&(u.firebase_id=t),g("config",s.measurementId,u),b&&(g("set",b),b=void 0),s.measurementId}class b7{constructor(a){this.app=a}_delete(){return delete b8[this.app.options.appId],Promise.resolve()}}let b8={},b9=[],ca={},cb="dataLayer",cc=!1,cd="@firebase/analytics",ce="0.10.16";(0,k._registerComponent)(new p.Component(bT,(a,{options:b})=>(function(a,b,c){let f=[];if((0,m.isBrowserExtension)()&&f.push("This is a browser extension environment."),(0,m.areCookiesEnabled)()||f.push("Cookies are not available."),f.length>0){let a=f.map((a,b)=>`(${b+1}) ${a}`).join(" "),b=bW.create("invalid-analytics-context",{errorInfo:a});bV.warn(b.message)}let g=a.options.appId;if(!g)throw bW.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)bV.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bW.create("no-api-key");if(null!=b8[g])throw bW.create("already-exists",{id:g});if(!cc){var h,i;let a,b;a=[],Array.isArray(window[cb])?a=window[cb]:window[cb]=a;let{wrappedGtag:c,gtagCore:f}=(h="gtag",b=function(){window[cb].push(arguments)},window[h]&&"function"==typeof window[h]&&(b=window[h]),window[h]=(i=b,async function(a,...b){try{if("event"===a){let[a,c]=b;await b$(i,b8,b9,a,c)}else if("config"===a){let[a,c]=b;await bZ(i,b8,b9,ca,a,c)}else if("consent"===a){let[a,c]=b;i("consent",a,c)}else if("get"===a){let[a,c,d]=b;i("get",a,c,d)}else if("set"===a){let[a]=b;i("set",a)}else i(a,...b)}catch(a){bV.error(a)}}),{gtagCore:b,wrappedGtag:window[h]});e=c,d=f,cc=!0}return b8[g]=b6(a,b9,ca,b,d,cb,c),new b7(a)})(a.getProvider("app").getImmediate(),a.getProvider("installations-internal").getImmediate(),b),"PUBLIC")),(0,k._registerComponent)(new p.Component("analytics-internal",function(a){try{let b=a.getProvider(bT).getImmediate();return{logEvent:(a,c,d)=>{var f;return f=b,void(f=(0,m.getModularInstance)(f),b4(e,b8[f.app.options.appId],a,c,d).catch(a=>bV.error(a)))}}}catch(a){throw bW.create("interop-component-reg-failed",{reason:a})}},"PRIVATE")),(0,k.registerVersion)(cd,ce),(0,k.registerVersion)(cd,ce,"esm2017");let cf={apiKey:process.env.NEXT_PUBLIC_FIREBASE_API_KEY||"AIzaSyARGWbMOdRsYzX3uHHwetNQ4g2IJFHv5ps",authDomain:process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN||"ids-ops.firebaseapp.com",projectId:process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID||"ids-ops",storageBucket:process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET||"ids-ops.firebasestorage.app",messagingSenderId:process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||"118481425666",appId:process.env.NEXT_PUBLIC_FIREBASE_APP_ID||"1:118481425666:web:781f292fa80972e03ade1b",measurementId:process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID||"G-KWPK0WYJWB"},cg=(0,l.getApps)().length>0?(0,l.getApp)():(0,l.initializeApp)(cf),ch=function(a=(0,k.getApp)()){let b=(0,k._getProvider)(a,"auth");if(b.isInitialized())return b.getImmediate();let c=function(a,b){let c=(0,k._getProvider)(a,"auth");if(c.isInitialized()){let a=c.getImmediate(),b=c.getOptions();if((0,n.deepEqual)(b,{}))return a;v(a,"already-initialized")}return c.initialize({options:void 0})}(a),d=(0,n.getDefaultEmulatorHost)("auth");return d&&function(a,b,c){let d=as(a);A(/^https?:\/\//.test(b),d,"invalid-emulator-scheme");let e=aA(b),{host:f,port:g}=function(a){let b=aA(a),c=/(\/\/)?([^?#/]+)/.exec(a.substr(b.length));if(!c)return{host:"",port:null};let d=c[2].split("@").pop()||"",e=/^(\[[^\]]+\])(:|$)/.exec(d);if(e){let a=e[1];return{host:a,port:aB(d.substr(a.length+1))}}{let[a,b]=d.split(":");return{host:a,port:aB(b)}}}(b),h=null===g?"":`:${g}`,i={url:`${e}//${f}${h}/`},j=Object.freeze({host:f,port:g,protocol:e.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!d._canInitEmulator){A(d.config.emulator&&d.emulatorConfig,d,"emulator-config-failed"),A((0,n.deepEqual)(i,d.config.emulator)&&(0,n.deepEqual)(j,d.emulatorConfig),d,"emulator-config-failed");return}d.config.emulator=i,d.emulatorConfig=j,d.settings.appVerificationDisabledForTesting=!0,(0,n.isCloudWorkstation)(f)?((0,n.pingServer)(`${e}//${f}${h}`),(0,n.updateEmulatorBanner)("Auth",!0)):"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.")}(c,`http://${d}`),c}(cg),ci=(0,aZ.getFirestore)(cg),cj=function(a=(0,k.getApp)(),b){a=(0,a$.getModularInstance)(a);let c=(0,k._getProvider)(a,bc).getImmediate({identifier:void 0}),d=(0,a$.getDefaultEmulatorHostnameAndPort)("storage");return d&&function(a,b,c,d={}){!function(a,b,c,d={}){a.host=`${b}:${c}`;let e=(0,a$.isCloudWorkstation)(b);e&&((0,a$.pingServer)(`https://${a.host}/b`),(0,a$.updateEmulatorBanner)("Storage",!0)),a._isUsingEmulator=!0,a._protocol=e?"https":"http";let{mockUserToken:f}=d;f&&(a._overrideAuthToken="string"==typeof f?f:(0,a$.createMockUserToken)(f,a.app.options.projectId))}(a,b,c,d)}(c,...d),c}(cg);a.s(["analytics",()=>null,"app",()=>cg,"auth",()=>ch,"db",()=>ci,"storage",()=>cj],20237)}];

//# sourceMappingURL=src_lib_firebase_ts_ed5bd370._.js.map